var beautifulDlyrics=(()=>{var _=Object.create,z=Object.defineProperty,N=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyNames,F=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty,t=(t,e)=>function(){return e||(0,t[B(t)[0]])((e={exports:{}}).exports,e),e.exports},W=(t,e,i)=>{i=null!=t?_(F(t)):{};var s=!e&&t&&t.__esModule?i:z(i,"default",{value:t,enumerable:!0}),r=t,n=void 0,a=void 0;if(r&&"object"==typeof r||"function"==typeof r)for(let t of B(r))q.call(s,t)||t===n||z(s,t,{get:()=>r[t],enumerable:!(a=N(r,t))||a.enumerable});return s},e=t({"node_modules/can-use-dom/index.js"(t,e){var i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=i}}),R=t({"node_modules/curve-interpolator/dist/index.js"(t,e){var i,s;s=function(t){"use strict";var s=function(t,e){return(s=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}))(t,e)};function e(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var L=function(){return(L=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function l(t,e){for(var i=new Array(t.length),s=0;s<t.length;s++)i[s]=2*t[s]-e[s];return i}function T(t,e,i){var s,r,n,a,o=e.length-1;if(i)s=e[t-1<0?o:t-1],r=e[t%e.length],n=e[(t+1)%e.length],a=e[(t+2)%e.length];else{if(t===o)throw Error("There is no spline segment at this index for a closed curve!");r=e[t],n=e[t+1],s=0<t?e[t-1]:l(r,n),a=t<o-1?e[t+2]:l(n,r)}return[s,r,n,a]}function n(t,e,i){var i=(i=void 0===i?!1:i)?e.length:e.length-1;return 1===t?{index:i-1,weight:1}:(e=i*t,{index:i=Math.floor(e),weight:e-i})}function r(t,e){for(var i=0;i<t.length;i++)t[i]=e;return t}function a(t,e){for(var i=0;i<t.length;i++)t[i]=e(t[i],i);return t}function _(t,e,i){void 0===i&&(i=0);for(var s=0;s<t.length;s++)i=e(i,t[s],s);return i}function o(t,e){e=e||new Array(t.length);for(var i=0;i<t.length;i++)e[i]=t[i];return e}function y(t,e,i){return void 0===i&&(i=1),t<(e=void 0===e?0:e)?e:i<t?i:t}function c(t,e){var i=e[0];if(t>=e[e.length-1])return e.length-1;if(t<=i)return 0;for(var s=0,r=e.length-1;s<=r;){var n=Math.floor((s+r)/2),a=e[n];if(a<t)s=n+1;else{if(!(t<a))return n;r=n-1}}return Math.max(0,r)}var x=Math.pow(2,-42);function z(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}function w(t,e,i){return Math.abs(t)<x?Math.abs(e)<x?[]:[-i/e]:(i=e*e-4*t*i,Math.abs(i)<x?[-e/(2*t)]:0<i?[(-e+Math.sqrt(i))/(2*t),(-e-Math.sqrt(i))/(2*t)]:[])}function N(t,e,i,s){if(Math.abs(t)<x)return w(e,i,s);var r,n,a=(3*t*i-e*e)/(3*t*t),i=(2*e*e*e-9*t*e*i+27*t*t*s)/(27*t*t*t);n=Math.abs(a)<x?[z(-i)]:Math.abs(i)<x?[0].concat(a<0?[Math.sqrt(-a),-Math.sqrt(-a)]:[]):(s=i*i/4+a*a*a/27,Math.abs(s)<x?[-1.5*i/a,3*i/a]:0<s?[(r=z(-i/2-Math.sqrt(s)))-a/(3*r)]:(r=2*Math.sqrt(-a/3),s=Math.acos(3*i/a/r)/3,i=2*Math.PI/3,[r*Math.cos(s),r*Math.cos(s-i),r*Math.cos(s-2*i)]));for(var o=0;o<n.length;o++)n[o]-=e/(3*t);return n}function B(t,e){if(t.length!==e.length)throw Error("Vectors must be of equal length!");for(var i=0,s=0;s<t.length;s++)i+=t[s]*e[s];return i}function h(t,e,i){var s,r,n,a;if(!(3<t.length))return i=i||new Array(3),s=t[0],r=t[1],t=t[2]||0,n=e[0],a=e[1],e=e[2]||0,i[0]=r*e-t*a,i[1]=t*n-s*e,i[2]=s*a-r*n,i}function d(t,e){for(var i=0,s=0;s<t.length;s++)i+=(t[s]-e[s])*(t[s]-e[s]);return i}function b(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]*t[i];return Math.sqrt(e)}function p(t,e){t=d(t,e);return 0===t?0:Math.sqrt(t)}function u(t,e){var e=e?o(t,e):t,t=_(e,function(t,e){return t+Math.pow(e,2)}),i=Math.sqrt(t);return 0===i?r(e,0):a(e,function(t){return t/i})}function F(t,e){if(2<t.length)throw Error("Only supported for 2d vectors");e=e?o(t,e):t,t=-e[1];return e[1]=e[0],e[0]=t,e}function q(t,e,i,s,r){var n;return 0===(r=void 0===r?0:r)?[0,1,2,3]:[0,t=(n=function(t,e){return Math.pow(d(t,e),.5*r)})(e,t),e=n(i,e)+t,n(s,i)+e]}function C(t,e,i,s,r){for(var n=Number.isFinite(r.tension)?r.tension:.5,r=Number.isFinite(r.alpha)?r.alpha:null,a=0<r?q(t,e,i,s,r):null,o=new Array(t.length),l=0;l<t.length;l++){var c,h,d=0,p=0,u=t[l],g=e[l],v=i[l],f=s[l],m=(a?(m=a[0],y=a[1],c=a[2],h=a[3],y-c!=0&&(m-y!=0&&m-c!=0&&(d=(1-n)*(c-y)*((u-g)/(m-y)-(u-v)/(m-c)+(g-v)/(y-c))),y-h!=0)&&c-h!=0&&(p=(1-n)*(c-y)*((g-v)/(y-c)-(g-f)/(y-h)+(v-f)/(c-h)))):(d=(1-n)*(v-u)*.5,p=(1-n)*(f-g)*.5),2*g-2*v+d+p),y=d;o[l]=[m,-3*g+3*v-2*d-p,y,g]}return o}function E(t,e){var i=t*t;return e[0]*(t*i)+e[1]*i+e[2]*t+e[3]}function S(t,e){return 3*e[0]*(t*t)+2*e[1]*t+e[2]}function g(t,e){return 6*e[0]*t+2*e[1]}function M(t,e){var i=e[0],s=e[1],r=e[2],e=e[3]-t;return 0===i&&0===s&&0===r&&0==e?[0]:N(i,s,r,e).filter(function(t){return-x<t&&t<=1+x}).map(function(t){return y(t,0,1)})}function A(t,e,i,s){s=(s=void 0===s?null:s)||new Array(i.length);for(var r=0;r<i.length;r++)s[r]=t(e,i[r]);return s}m.prototype._invalidateCache=function(){this.points&&(this._cache={arcLengths:null,coefficients:null},this._onInvalidateCache)&&this._onInvalidateCache()},Object.defineProperty(m.prototype,"alpha",{get:function(){return this._alpha},set:function(t){Number.isFinite(t)&&t!==this._alpha&&(this._invalidateCache(),this._alpha=t)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"tension",{get:function(){return this._tension},set:function(t){Number.isFinite(t)&&t!==this._tension&&(this._invalidateCache(),this._tension=t)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"points",{get:function(){return this._points},set:function(t){if(!t||t.length<2)throw Error("At least 2 control points are required!");this._points=t,this._invalidateCache()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"closed",{get:function(){return this._closed},set:function(t){this._closed!==(t=!!t)&&(this._invalidateCache(),this._closed=t)},enumerable:!1,configurable:!0}),m.prototype.reset=function(){this._invalidateCache()},m.prototype.evaluateForT=function(t,e,i){var e=n(e,this.points,this.closed),s=e.index;return A(t,e.weight,this.getCoefficients(s),i)},m.prototype.getCoefficients=function(t){var e;if(this.points)return this._cache.coefficients||(this._cache.coefficients=new Map),this._cache.coefficients.has(t)||(e=C((e=T(t,this.points,this.closed))[0],e[1],e[2],e[3],{tension:this.tension,alpha:this.alpha}),this._cache.coefficients.set(t,e)),this._cache.coefficients.get(t)};var i,v=m,W=(e(f,i=v),Object.defineProperty(f.prototype,"arcLengths",{get:function(){return this._cache.arcLengths||(this._cache.arcLengths=this.computeArcLengths()),this._cache.arcLengths},enumerable:!1,configurable:!0}),f.prototype._invalidateCache=function(){i.prototype._invalidateCache.call(this),this._cache.arcLengths=null},f.prototype.computeArcLengths=function(){var t,e=[],i=this.evaluateForT(E,0),s=0;e.push(0);for(var r=1;r<=this._subDivisions;r++)s+=p(t=this.evaluateForT(E,r/this._subDivisions),i),e.push(s),i=t;return e},f.prototype.lengthAt=function(t){var e=this.arcLengths;return t*e[e.length-1]},f.prototype.getT=function(t){var e=this.arcLengths,i=e.length,t=t*e[i-1],s=c(t,e);return e[s]===t?s/(i-1):(s+(t-(t=e[s]))/(e[s+1]-t))/(i-1)},f.prototype.getU=function(t){var e,i,s,r,n;return 0===t?0:1===t?1:(i=(r=this.arcLengths)[e=r.length-1],s=t*e,n=r[r=Math.floor(s)],s===r?n/i:(n+p(this.evaluateForT(E,r/e),this.evaluateForT(E,t)))/i)},f),R=[[[-.906179845938664,.23692688505618908],[-.5384693101056831,.47862867049936647],[0,.5688888888888889],[.5384693101056831,.47862867049936647],[.906179845938664,.23692688505618908]],[[-.932469514203152,.17132449237917036],[-.6612093864662645,.3607615730481386],[-.2386191860831969,.46791393457269104],[.2386191860831969,.46791393457269104],[.6612093864662645,.3607615730481386],[.932469514203152,.17132449237917036]],[[-.9491079123427585,.1294849661688697],[-.7415311855993945,.27970539148927664],[-.4058451513773972,.3818300505051189],[0,.4179591836734694],[.4058451513773972,.3818300505051189],[.7415311855993945,.27970539148927664],[.9491079123427585,.1294849661688697]],[[-.9602898564975363,.10122853629037626],[-.7966664774136267,.22238103445337448],[-.525532409916329,.31370664587788727],[-.1834346424956498,.362683783378362],[.1834346424956498,.362683783378362],[.525532409916329,.31370664587788727],[.7966664774136267,.22238103445337448],[.9602898564975363,.10122853629037626]],[[-.9681602395076261,.08127438836157441],[-.8360311073266358,.1806481606948574],[-.6133714327005904,.26061069640293544],[-.3242534234038089,.31234707704000286],[0,.3302393550012598],[.3242534234038089,.31234707704000286],[.6133714327005904,.26061069640293544],[.8360311073266358,.1806481606948574],[.9681602395076261,.08127438836157441]],[[-.9739065285171717,.06667134430868814],[-.8650633666889845,.1494513491505806],[-.6794095682990244,.21908636251598204],[-.4333953941292472,.26926671930999635],[-.14887433898163122,.29552422471475287],[.14887433898163122,.29552422471475287],[.4333953941292472,.26926671930999635],[.6794095682990244,.21908636251598204],[.8650633666889845,.1494513491505806],[.9739065285171717,.06667134430868814]],[[-.978228658146056,.0556685671161736],[-.887062599768095,.125580369464904],[-.730152005574049,.186290210927734],[-.519096129206811,.23319376459199],[-.269543155952344,.262804544510246],[0,.2729250867779],[.269543155952344,.262804544510246],[.519096129206811,.23319376459199],[.730152005574049,.186290210927734],[.887062599768095,.125580369464904],[.978228658146056,.0556685671161736]],[[-.981560634246719,.0471753363865118],[-.904117256370474,.106939325995318],[-.769902674194304,.160078328543346],[-.587317954286617,.203167426723065],[-.36783149899818,.233492536538354],[-.125233408511468,.249147045813402],[.125233408511468,.249147045813402],[.36783149899818,.233492536538354],[.587317954286617,.203167426723065],[.769902674194304,.160078328543346],[.904117256370474,.106939325995318],[.981560634246719,.0471753363865118]],[[-.984183054718588,.0404840047653158],[-.917598399222977,.0921214998377284],[-.801578090733309,.138873510219787],[-.64234933944034,.178145980761945],[-.448492751036446,.207816047536888],[-.230458315955134,.226283180262897],[0,.232551553230873],[.230458315955134,.226283180262897],[.448492751036446,.207816047536888],[.64234933944034,.178145980761945],[.801578090733309,.138873510219787],[.917598399222977,.0921214998377284],[.984183054718588,.0404840047653158]],[[-.986283808696812,.0351194603317518],[-.928434883663573,.0801580871597602],[-.827201315069764,.121518570687903],[-.687292904811685,.157203167158193],[-.515248636358154,.185538397477937],[-.319112368927889,.205198463721295],[-.108054948707343,.215263853463157],[.108054948707343,.215263853463157],[.319112368927889,.205198463721295],[.515248636358154,.185538397477937],[.687292904811685,.157203167158193],[.827201315069764,.121518570687903],[.928434883663573,.0801580871597602],[.986283808696812,.0351194603317518]],[[-.987992518020485,.0307532419961172],[-.937273392400705,.0703660474881081],[-.848206583410427,.107159220467171],[-.72441773136017,.139570677926154],[-.570972172608538,.166269205816993],[-.394151347077563,.186161000015562],[-.201194093997434,.198431485327111],[0,.202578241925561],[.201194093997434,.198431485327111],[.394151347077563,.186161000015562],[.570972172608538,.166269205816993],[.72441773136017,.139570677926154],[.848206583410427,.107159220467171],[.937273392400705,.0703660474881081],[.987992518020485,.0307532419961172]],[[-.989400934991649,.027152459411754],[-.944575023073232,.0622535239386478],[-.865631202387831,.0951585116824927],[-.755404408355003,.124628971255533],[-.617876244402643,.149595988816576],[-.458016777657227,.169156519395002],[-.281603550779258,.182603415044923],[-.0950125098376374,.189450610455068],[.0950125098376374,.189450610455068],[.281603550779258,.182603415044923],[.458016777657227,.169156519395002],[.617876244402643,.149595988816576],[.755404408355003,.124628971255533],[.865631202387831,.0951585116824927],[.944575023073232,.0622535239386478],[.989400934991649,.027152459411754]],[[-.990575475314417,.0241483028685479],[-.950675521768767,.0554595293739872],[-.880239153726985,.0850361483171791],[-.781514003896801,.111883847193403],[-.65767115921669,.135136368468525],[-.512690537086476,.15404576107681],[-.351231763453876,.16800410215645],[-.178484181495847,.176562705366992],[0,.179446470356206],[.178484181495847,.176562705366992],[.351231763453876,.16800410215645],[.512690537086476,.15404576107681],[.65767115921669,.135136368468525],[.781514003896801,.111883847193403],[.880239153726985,.0850361483171791],[.950675521768767,.0554595293739872],[.990575475314417,.0241483028685479]],[[-.99156516842093,.0216160135264833],[-.955823949571397,.0497145488949698],[-.892602466497555,.076425730254889],[-.803704958972523,.100942044106287],[-.691687043060353,.122555206711478],[-.559770831073947,.14064291467065],[-.411751161462842,.154684675126265],[-.251886225691505,.164276483745832],[-.0847750130417353,.169142382963143],[.0847750130417353,.169142382963143],[.251886225691505,.164276483745832],[.411751161462842,.154684675126265],[.559770831073947,.14064291467065],[.691687043060353,.122555206711478],[.803704958972523,.100942044106287],[.892602466497555,.076425730254889],[.955823949571397,.0497145488949697],[.99156516842093,.0216160135264833]],[[-.992406843843584,.0194617882297264],[-.96020815213483,.0448142267656996],[-.903155903614817,.0690445427376412],[-.822714656537142,.0914900216224499],[-.720966177335229,.111566645547333],[-.600545304661681,.128753962539336],[-.46457074137596,.142606702173606],[-.316564099963629,.152766042065859],[-.160358645640225,.158968843393954],[0,.161054449848783],[.160358645640225,.158968843393954],[.316564099963629,.152766042065859],[.46457074137596,.142606702173606],[.600545304661681,.128753962539336],[.720966177335229,.111566645547333],[.822714656537142,.0914900216224499],[.903155903614817,.0690445427376412],[.96020815213483,.0448142267656996],[.992406843843584,.0194617882297264]],[[-.993128599185094,.0176140071391521],[-.963971927277913,.0406014298003869],[-.912234428251325,.062672048334109],[-.839116971822218,.0832767415767047],[-.74633190646015,.10193011981724],[-.636053680726515,.118194531961518],[-.510867001950827,.131688638449176],[-.373706088715419,.142096109318382],[-.227785851141645,.149172986472603],[-.0765265211334973,.152753387130725],[.0765265211334973,.152753387130725],[.227785851141645,.149172986472603],[.373706088715419,.142096109318382],[.510867001950827,.131688638449176],[.636053680726515,.118194531961518],[.74633190646015,.10193011981724],[.839116971822218,.0832767415767047],[.912234428251325,.062672048334109],[.963971927277913,.0406014298003869],[.993128599185094,.0176140071391521]],[[-.993752170620389,.0160172282577743],[-.967226838566306,.0369537897708524],[-.9200993341504,.0571344254268572],[-.853363364583317,.0761001136283793],[-.768439963475677,.0934444234560338],[-.667138804197412,.108797299167148],[-.551618835887219,.121831416053728],[-.424342120207438,.132268938633337],[-.288021316802401,.139887394791073],[-.145561854160895,.14452440398997],[0,.14608113364969],[.145561854160895,.14452440398997],[.288021316802401,.139887394791073],[.424342120207438,.132268938633337],[.551618835887219,.121831416053728],[.667138804197412,.108797299167148],[.768439963475677,.0934444234560338],[.853363364583317,.0761001136283793],[.9200993341504,.0571344254268572],[.967226838566306,.0369537897708524],[.993752170620389,.0160172282577743]],[[-.994294585482399,.0146279952982722],[-.970060497835428,.0337749015848141],[-.926956772187174,.0522933351526832],[-.8658125777203,.0697964684245204],[-.787816805979208,.0859416062170677],[-.694487263186682,.10041414444288],[-.587640403506911,.112932296080539],[-.469355837986757,.123252376810512],[-.341935820892084,.131173504787062],[-.207860426688221,.136541498346015],[-.0697392733197222,.139251872855631],[.0697392733197222,.139251872855631],[.207860426688221,.136541498346015],[.341935820892084,.131173504787062],[.469355837986757,.123252376810512],[.587640403506911,.112932296080539],[.694487263186682,.10041414444288],[.787816805979208,.0859416062170677],[.8658125777203,.0697964684245204],[.926956772187174,.0522933351526832],[.970060497835428,.0337749015848141],[.994294585482399,.0146279952982722]],[[-.994769334997552,.0134118594871417],[-.972542471218115,.0309880058569794],[-.932971086826016,.0480376717310846],[-.876752358270441,.0642324214085258],[-.804888401618839,.0792814117767189],[-.71866136313195,.0929157660600351],[-.619609875763646,.104892091464541],[-.509501477846007,.114996640222411],[-.39030103803029,.123049084306729],[-.264135680970344,.128905722188082],[-.133256824298466,.132462039404696],[0,.133654572186106],[.133256824298466,.132462039404696],[.264135680970344,.128905722188082],[.39030103803029,.123049084306729],[.509501477846007,.114996640222411],[.619609875763646,.104892091464541],[.71866136313195,.0929157660600351],[.804888401618839,.0792814117767189],[.876752358270441,.0642324214085258],[.932971086826016,.0480376717310846],[.972542471218115,.0309880058569794],[.994769334997552,.0134118594871417]],[[-.995187219997021,.0123412297999872],[-.974728555971309,.0285313886289336],[-.938274552002732,.0442774388174198],[-.886415527004401,.0592985849154367],[-.820001985973902,.0733464814110803],[-.740124191578554,.0861901615319532],[-.648093651936975,.0976186521041138],[-.545421471388839,.107444270115965],[-.433793507626045,.115505668053725],[-.315042679696163,.121670472927803],[-.191118867473616,.125837456346828],[-.0640568928626056,.127938195346752],[.0640568928626056,.127938195346752],[.191118867473616,.125837456346828],[.315042679696163,.121670472927803],[.433793507626045,.115505668053725],[.545421471388839,.107444270115965],[.648093651936975,.0976186521041138],[.740124191578554,.0861901615319532],[.820001985973902,.0733464814110803],[.886415527004401,.0592985849154367],[.938274552002732,.0442774388174198],[.974728555971309,.0285313886289336],[.995187219997021,.0123412297999872]],[[-.995556969790498,.0113937985010262],[-.976663921459517,.0263549866150321],[-.942974571228974,.0409391567013063],[-.894991997878275,.0549046959758351],[-.833442628760834,.0680383338123569],[-.759259263037357,.080140700335001],[-.673566368473468,.0910282619829636],[-.577662930241222,.10053594906705],[-.473002731445714,.108519624474263],[-.361172305809387,.114858259145711],[-.243866883720988,.119455763535784],[-.12286469261071,.12224244299031],[0,.123176053726715],[.12286469261071,.12224244299031],[.243866883720988,.119455763535784],[.361172305809387,.114858259145711],[.473002731445714,.108519624474263],[.577662930241222,.10053594906705],[.673566368473468,.0910282619829636],[.759259263037357,.080140700335001],[.833442628760834,.0680383338123569],[.894991997878275,.0549046959758351],[.942974571228974,.0409391567013063],[.976663921459517,.0263549866150321],[.995556969790498,.0113937985010262]],[[-.995885701145616,.010551372617343],[-.97838544595647,.0244178510926319],[-.947159066661714,.0379623832943627],[-.902637861984307,.0509758252971478],[-.845445942788498,.0632740463295748],[-.776385948820678,.0746841497656597],[-.696427260419957,.0850458943134852],[-.606692293017618,.0942138003559141],[-.508440714824505,.102059161094425],[-.403051755123486,.108471840528576],[-.292004839485956,.113361816546319],[-.17685882035689,.116660443485296],[-.0592300934293132,.118321415279262],[.0592300934293132,.118321415279262],[.17685882035689,.116660443485296],[.292004839485956,.113361816546319],[.403051755123486,.108471840528576],[.508440714824505,.102059161094425],[.606692293017618,.0942138003559141],[.696427260419957,.0850458943134852],[.776385948820678,.0746841497656597],[.845445942788498,.0632740463295748],[.902637861984307,.0509758252971478],[.947159066661714,.0379623832943627],[.97838544595647,.0244178510926319],[.995885701145616,.010551372617343]],[[-.996179262888988,.00979899605129436],[-.979923475961501,.0226862315961806],[-.950900557814705,.0352970537574197],[-.909482320677491,.047449412520615],[-.856207908018294,.0589835368598335],[-.791771639070508,.0697488237662455],[-.717013473739423,.0796048677730577],[-.632907971946495,.0884231585437569],[-.540551564579456,.0960887273700285],[-.441148251750026,.102501637817745],[-.335993903638508,.107578285788533],[-.226459365439536,.111252488356845],[-.113972585609529,.113476346108965],[0,.114220867378956],[.113972585609529,.113476346108965],[.226459365439536,.111252488356845],[.335993903638508,.107578285788533],[.441148251750026,.102501637817745],[.540551564579456,.0960887273700285],[.632907971946495,.0884231585437569],[.717013473739423,.0796048677730577],[.791771639070508,.0697488237662455],[.856207908018294,.0589835368598336],[.909482320677491,.047449412520615],[.950900557814705,.0352970537574197],[.979923475961501,.0226862315961806],[.996179262888988,.00979899605129436]],[[-.996442497573954,.00912428259309452],[-.981303165370872,.0211321125927712],[-.954259280628938,.0329014277823043],[-.915633026392132,.0442729347590042],[-.865892522574395,.0551073456757167],[-.805641370917179,.0652729239669995],[-.735610878013631,.0746462142345687],[-.656651094038864,.0831134172289012],[-.569720471811401,.0905717443930328],[-.475874224955118,.0969306579979299],[-.376251516089078,.10211296757806],[-.272061627635178,.106055765922846],[-.16456928213338,.108711192258294],[-.0550792898840342,.110047013016475],[.0550792898840342,.110047013016475],[.16456928213338,.108711192258294],[.272061627635178,.106055765922846],[.376251516089078,.10211296757806],[.475874224955118,.0969306579979299],[.569720471811401,.0905717443930328],[.656651094038864,.0831134172289012],[.735610878013631,.0746462142345687],[.805641370917179,.0652729239669995],[.865892522574395,.0551073456757167],[.915633026392132,.0442729347590042],[.954259280628938,.0329014277823043],[.981303165370872,.0211321125927712],[.996442497573954,.00912428259309452]],[[-.996679442260596,.00851690387874641],[-.982545505261413,.0197320850561227],[-.957285595778087,.0307404922020936],[-.921180232953058,.0414020625186828],[-.874637804920102,.0515948269024979],[-.818185487615252,.0612030906570791],[-.752462851734477,.0701179332550512],[-.678214537602686,.0782383271357637],[-.596281797138227,.0854722573661725],[-.507592955124227,.0917377571392587],[-.413152888174008,.0969638340944086],[-.314031637867639,.101091273759914],[-.211352286166001,.104073310077729],[-.106278230132679,.10587615509732],[0,.106479381718314],[.106278230132679,.10587615509732],[.211352286166001,.104073310077729],[.314031637867639,.101091273759914],[.413152888174008,.0969638340944086],[.507592955124227,.0917377571392587],[.596281797138227,.0854722573661725],[.678214537602686,.0782383271357637],[.752462851734477,.0701179332550512],[.818185487615252,.0612030906570791],[.874637804920102,.0515948269024979],[.921180232953058,.0414020625186828],[.957285595778087,.0307404922020936],[.982545505261413,.0197320850561227],[.996679442260596,.00851690387874641]],[[-.996893484074649,.0079681924961666],[-.983668123279747,.0184664683110909],[-.960021864968307,.0287847078833233],[-.926200047429274,.038799192569627],[-.882560535792052,.048402672830594],[-.829565762382768,.057493156217619],[-.767777432104826,.0659742298821805],[-.697850494793315,.0737559747377052],[-.620526182989242,.0807558952294202],[-.536624148142019,.0868997872010829],[-.447033769538089,.0921225222377861],[-.352704725530878,.0963687371746442],[-.254636926167889,.0995934205867952],[-.153869913608583,.101762389748405],[-.0514718425553176,.102852652893558],[.0514718425553176,.102852652893558],[.153869913608583,.101762389748405],[.254636926167889,.0995934205867952],[.352704725530878,.0963687371746442],[.447033769538089,.0921225222377861],[.536624148142019,.0868997872010829],[.620526182989242,.0807558952294202],[.697850494793315,.0737559747377052],[.767777432104826,.0659742298821805],[.829565762382768,.057493156217619],[.882560535792052,.048402672830594],[.926200047429274,.038799192569627],[.960021864968307,.0287847078833233],[.983668123279747,.0184664683110909],[.996893484074649,.0079681924961666]]],j=R.length+5;function f(t,e){void 0===t&&(t=300);e=i.call(this,e=void 0===e?null:e)||this;return e._subDivisions=t,e}function m(t){void 0===t&&(t=null),this._alpha=0,this._tension=.5,this._closed=!1,this._onInvalidateCache=null,this._onInvalidateCache=t,this._cache={arcLengths:null,coefficients:null}}e(D,V=v),D.prototype._invalidateCache=function(){V.prototype._invalidateCache.call(this),this._cache.arcLengths=null,this._cache.samples=null},Object.defineProperty(D.prototype,"arcLengths",{get:function(){return this._cache.arcLengths||(this._cache.arcLengths=this.computeArcLengths()),this._cache.arcLengths},enumerable:!1,configurable:!0}),D.prototype.getSamples=function(t){if(this.points){if(this._cache.samples||(this._cache.samples=new Map),!this._cache.samples.has(t)){for(var e=this._nSamples,i=[],s=[],r=this.getCoefficients(t),n=0;n<e;++n){var a=n/(e-1),a=(i.push(this.computeArcLength(t,0,a)),b(A(S,a,r))),a=0===a?0:1/a;.95<this.tension&&(a=y(a,-1,1)),s.push(a)}for(var o=e-1,l=[],c=[],h=i[0],d=s[0],p=1/o,n=0;n<o;++n){var u=h,u=(h=i[n+1])-u,g=d,v=s[n+1],d=v,f=p/u,m=(3*f-2*g-v)/u;l.push((g+v-2*f)/(u*u)),c.push(m)}this._cache.samples.set(t,[i,s,c,l])}return this._cache.samples.get(t)}},D.prototype.computeArcLength=function(t,e,i){if((e=void 0===e?0:e)===(i=void 0===i?1:i))return 0;for(var s=this.getCoefficients(t),r=.5*(i-e),n=0,a=0;a<this._gauss.length;a++){var o=this._gauss[a],l=o[0];n+=o[1]*b(A(S,r*l+r+e,s))}return r*n},D.prototype.computeArcLengths=function(){if(this.points){var t=[];t.push(0);for(var e=this.closed?this.points.length:this.points.length-1,i=0,s=0;s<e;s++)i+=this.computeArcLength(s),t.push(i);return t}},D.prototype.inverse=function(t,e){var i,s=1/(this._nSamples-1),t=this.getSamples(t),r=t[0],n=t[1],a=t[2],t=t[3];return e>=r[r.length-1]?1:e<=0?0:(s=(i=Math.max(0,c(e,r)))*s,r[i]===e?s:(n=n[i],t=t[i],a=a[i],((t*(t=e-r[i])+a)*t+n)*t+s))},D.prototype.lengthAt=function(t){return t*this.arcLengths[this.arcLengths.length-1]},D.prototype.getT=function(t){var e=this.arcLengths,i=e.length,t=t*e[i-1],s=c(t,e);return e[s]===t?s/(i-1):(t=t-e[s],(s+this.inverse(s,t))/(i-1))},D.prototype.getU=function(t){var e,i,s;return 0===t?0:1===t?1:(e=(s=this.arcLengths)[i=s.length-1],t=t*i,s=s[i=Math.floor(t)],t===i?s/e:(s+this.computeArcLength(i,0,t-i))/e)};var O,V,H=D,v=(P.prototype.getTimeFromPosition=function(t,e){return this._curveMapper.getT((e=void 0===e?!1:e)?y(t,0,1):t)},P.prototype.getPositionFromTime=function(t,e){return this._curveMapper.getU((e=void 0===e?!1:e)?y(t,0,1):t)},P.prototype.getPositionFromLength=function(t,e){e=(e=void 0===e?!1:e)?y(t,0,this.length):t;return this._curveMapper.getU(e/this.length)},P.prototype.getLengthAt=function(t,e){return void 0===t&&(t=1),this._curveMapper.lengthAt((e=void 0===e?!1:e)?y(t,0,1):t)},P.prototype.getTimeAtKnot=function(t){if(t<0||t>this.points.length-1)throw Error("Invalid index!");return 0===t?0:this.closed||t!==this.points.length-1?t/(this.closed?this.points.length:this.points.length-1):1},P.prototype.getPositionAtKnot=function(t){return this.getPositionFromTime(this.getTimeAtKnot(t))},P.prototype.getPointAtTime=function(t,e){return 0===(t=y(t,0,1))?o(this.points[0],e):1===t?o(this.closed?this.points[0]:this.points[this.points.length-1],e):this._curveMapper.evaluateForT(E,t,e)},P.prototype.getPointAt=function(t,e){return this.getPointAtTime(this.getTimeFromPosition(t),e)},P.prototype.getTangentAt=function(t,e){t=y(this.getTimeFromPosition(t),0,1);return this.getTangentAtTime(t,e)},P.prototype.getTangentAtTime=function(t,e){return u(this._curveMapper.evaluateForT(S,t,e))},P.prototype.getNormalAt=function(t,e){t=y(this.getTimeFromPosition(t),0,1);return this.getNormalAtTime(t,e)},P.prototype.getNormalAtTime=function(t,e){var i=u(this._curveMapper.evaluateForT(S,t));if(!(i.length<2||3<i.length))return e=e||new Array(i.length),2===i.length?(e[0]=-i[1],e[1]=i[0],e):(t=u(this._curveMapper.evaluateForT(g,t)),u(h(h(i,t),i),e))},P.prototype.getCurvatureAt=function(t){t=y(this.getTimeFromPosition(t),0,1);return this.getCurvatureAtTime(t)},P.prototype.getCurvatureAtTime=function(t){var e,i,s,r=this._curveMapper.evaluateForT(S,t),t=this._curveMapper.evaluateForT(g,t),n=u(r,[]),a=0,o=void 0;return 2===r.length?0!==(s=Math.pow(r[0]*r[0]+r[1]*r[1],1.5))&&(o=(i=(r[0]*t[1]-r[1]*t[0])/s)<0?[n[1],-n[0]]:[-n[1],n[0]],a=Math.abs(i)):3===r.length?(e=b(r),i=h(r,t),o=u(h(i,r)),0!==e&&(a=b(i)/Math.pow(e,3))):(e=b(r),i=b(t),s=Math.pow(e,3),r=B(r,t),0!==s&&(a=Math.sqrt(Math.pow(e,2)*Math.pow(i,2)-Math.pow(r,2))/s)),{curvature:a,radius:0!==a?1/a:0,tangent:n,direction:o}},P.prototype.getDerivativeAt=function(t,e){t=y(this.getTimeFromPosition(t),0,1);return this._curveMapper.evaluateForT(S,t,e)},P.prototype.getSecondDerivativeAt=function(t,e){t=y(this.getTimeFromPosition(t),0,1);return this._curveMapper.evaluateForT(g,t,e)},P.prototype.getBoundingBox=function(t,e){if(void 0===e&&(e=1),0===(t=void 0===t?0:t)&&1===e&&this._cache.has("bbox"))return this._cache.get("bbox");for(var o=[],l=[],c=this.getTimeFromPosition(t),h=this.getTimeFromPosition(e),i=this.getPointAtTime(c),s=this.getPointAtTime(h),d=this.closed?this.points.length:this.points.length-1,p=Math.floor(d*c),u=Math.ceil(d*h),r=0;r<i.length;r++)o[r]=Math.min(i[r],s[r]),l[r]=Math.max(i[r],s[r]);for(var n=function(e){var t=T(e-1,g.points,g.closed)[2];if(e<u)for(var i=0;i<t.length;i++)t[i]<o[i]&&(o[i]=t[i]),t[i]>l[i]&&(l[i]=t[i]);if(g.tension<1)for(var s=d*c-(e-1),r=d*h-(e-1),n=function(t){return-x<t&&t<=1+x&&(e-1!==p||s<t)&&(e!==u||t<r)},a=g._curveMapper.getCoefficients(e-1),i=0;i<a.length;i++)!function(e){var t=a[e];w(3*t[0],2*t[1],t[2]).filter(n).forEach(function(t){t=E(t,a[e]);t<o[e]&&(o[e]=t),t>l[e]&&(l[e]=t)})}(i)},g=this,a=p+1;a<=u;a++)n(a);var v={min:o,max:l};return 0===t&&1===e&&this._cache.set("bbox",v),v},P.prototype.getPoints=function(t,e,i,s){if(void 0===i&&(i=0),void 0===s&&(s=1),!(t=void 0===t?100:t)||t<=0)throw Error("Invalid arguments passed to getPoints(). You must specify at least 1 sample/segment.");if(!(i<0||1<s||s<i)){for(var r=[],n=0;n<=t;n++)r.push(this.getPointAt(0===i&&1===s?n/t:i+n/t*(s-i),e&&new e));return r}},P.prototype.getNearestPosition=function(i,t){var s=this;if((t=void 0===t?1e-5:t)<=0||!Number.isFinite(t))throw Error("Invalid threshold. Must be a number greater than zero!");var e=10*this.points.length-1,r=new Array(i.length),n=1/0,a=0,o=this.createLookupTable(e);Array.from(o.keys()).forEach(function(t){var e=o.get(t),e=p(i,e);if(e<n)return n=e,a=t,!0});for(var l=this.getTimeFromPosition(a),c=function(t){if(0<=t&&t<=1){s.getPointAtTime(t,r);var e=p(i,r);if(e<n)return n=e,l=t,!0}},h=.005;t<h;)c(l-h)||c(l+h)||(h/=2);return{u:a=this._curveMapper.getU(l),distance:n,point:r}},P.prototype.getIntersects=function(t,e,i,s){var r=this,t=(void 0===s&&(s=this._lmargin),this.getIntersectsAsTime(t,e=void 0===e?0:e,i=void 0===i?0:i,s).map(function(t){return r.getPointAtTime(t)}));return 1===Math.abs(i)?1===t.length?t[0]:null:t},P.prototype.getIntersectsAsPositions=function(t,e,i,s){var r=this;return void 0===s&&(s=this._lmargin),this.getIntersectsAsTime(t,e=void 0===e?0:e,i=void 0===i?0:i,s).map(function(t){return r.getPositionFromTime(t)})},P.prototype.getIntersectsAsTime=function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=this._lmargin);for(var r=e=void 0===e?0:e,n=new Set,a=this.closed?this.points.length:this.points.length-1,o=0;o<a&&(0===i||n.size<Math.abs(i));o+=1){var l=i<0?a-(o+1):o,c=T(l,this.points,this.closed),h=c[1],c=c[2],d=this._curveMapper.getCoefficients(l),p=void 0;if(t-s<=(h[r]<c[r]?(p=h[r],c):(p=c[r],h))[r]&&p<=t+s){var u=M(t,d[r]);i<0?u.sort(function(t,e){return e-t}):0<=i&&u.sort(function(t,e){return t-e});for(var g=0;g<u.length;g++){var v=(u[g]+l)/a;if(n.add(v),0!==i&&n.size===Math.abs(i))break}}}return Array.from(n)},P.prototype.createLookupTable=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=1),!t||t<=1)throw Error("Invalid arguments passed to createLookupTable(). You must specify at least 2 samples.");if(!(e<0||1<i||i<e)){var s="lut_".concat(t,"_").concat(e,"_").concat(i);if(!this._cache.has(s)){for(var r=new Map,n=0;n<t;n++){var a=0===e&&1===i?n/(t-1):e+n/(t-1)*(i-e),o=this.getPointAt(a);r.set(a,o)}this._cache.set(s,r)}return this._cache.get(s)}},P.prototype.forEach=function(r,t,e,i){var n=this,s=(void 0===e&&(e=0),void 0===i&&(i=1),[]);if(Number.isFinite(t)){if(t<=1)throw Error("Invalid arguments passed to forEach(). You must specify at least 2 samples.");for(var a=t,o=0;o<t;o++)s.push(0===e&&1===i?o/(a-1):e+o/(a-1)*(i-e))}else Array.isArray(t)&&(s=t);var l=null;s.forEach(function(t,e){if(!Number.isFinite(t)||t<0||1<t)throw Error("Invalid position (u) for sample in forEach!");var i=n.getTimeFromPosition(t),s=r({u:t,t:i,i:e,prev:l});l={u:t,t:i,i:e,value:s}})},P.prototype.map=function(r,t,e,i){var n=this,s=(void 0===e&&(e=0),void 0===i&&(i=1),[]);if(Number.isFinite(t)){if(t<=1)throw Error("Invalid arguments passed to map(). You must specify at least 2 samples.");for(var a=t,o=0;o<t;o++)s.push(0===e&&1===i?o/(a-1):e+o/(a-1)*(i-e))}else Array.isArray(t)&&(s=t);var l=null;return s.map(function(t,e){if(!Number.isFinite(t)||t<0||1<t)throw Error("Invalid position (u) for sample in map()!");var i=n.getTimeFromPosition(t),s=r({u:t,t:i,i:e,prev:l});return l={u:t,t:i,i:e,value:s},s})},P.prototype.reduce=function(r,t,e,i,s){var n=this,a=(void 0===i&&(i=0),void 0===s&&(s=1),[]);if(Number.isFinite(e)){if(e<=1)throw Error("Invalid arguments passed to map(). You must specify at least 2 samples.");for(var o=e,l=0;l<e;l++)a.push(0===i&&1===s?l/(o-1):i+l/(o-1)*(s-i))}else Array.isArray(e)&&(a=e);return a.reduce(function(t,e,i){if(!Number.isFinite(e)||e<0||1<e)throw Error("Invalid position (u) for sample in map()!");var s=n.getTimeFromPosition(e);return r({acc:t,u:e,t:s,i:i})},t)},P.prototype._invalidateCache=function(){return this._cache=new Map,this},P.prototype.reset=function(){this._curveMapper.reset()},Object.defineProperty(P.prototype,"points",{get:function(){return this._curveMapper.points},set:function(t){this._curveMapper.points=t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tension",{get:function(){return this._curveMapper.tension},set:function(t){this._curveMapper.tension=t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"alpha",{get:function(){return this._curveMapper.alpha},set:function(t){this._curveMapper.alpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"closed",{get:function(){return this._curveMapper.closed},set:function(t){this._curveMapper.closed=t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"length",{get:function(){return this._curveMapper.lengthAt(1)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minX",{get:function(){return this.getBoundingBox().min[0]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxX",{get:function(){return this.getBoundingBox().max[0]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minY",{get:function(){return this.getBoundingBox().min[1]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxY",{get:function(){return this.getBoundingBox().max[1]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minZ",{get:function(){return this.getBoundingBox().min[2]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxZ",{get:function(){return this.getBoundingBox().max[2]},enumerable:!1,configurable:!0}),P),U=(Object.defineProperty(G.prototype,0,{get:function(){return this.x},set:function(t){this.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,1,{get:function(){return this.y},set:function(t){this.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,2,{get:function(){return this.z},set:function(t){this.z=t},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,3,{get:function(){return this.w},set:function(t){this.w=t},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"length",{get:function(){return Number.isFinite(this.w)?4:Number.isFinite(this.z)?3:2},enumerable:!1,configurable:!0}),G),Y=(e(k,O=v),k.prototype.x=function(t,e,i){void 0===i&&(i=this._lmargin);t=this.getIntersects(t,1,e=void 0===e?0:e,i);return 1===Math.abs(e)?t[0]:t.map(function(t){return t[0]})},k.prototype.y=function(t,e,i){void 0===i&&(i=this._lmargin);t=this.getIntersects(t,0,e=void 0===e?0:e,i);return 1===Math.abs(e)?t[1]:t.map(function(t){return t[1]})},k.prototype.getNormalAt=function(t,e){return u(F(this.getTangentAt(t,e)))},k.prototype.getAngleAt=function(t){t=this.getTangentAt(t);return Math.atan2(t[1],t[0])},k.prototype.getBoundingBox=function(t,e){t=O.prototype.getBoundingBox.call(this,t=void 0===t?0:t,e=void 0===e?1:e);return{x1:t.min[0],x2:t.max[0],y1:t.min[1],y2:t.max[1],min:t.min,max:t.max}},k);function k(t,e,i,s,r){return void 0===e&&(e=.5),void 0===i&&(i=300),void 0===s&&(s=!1),void 0===r&&(r=0),O.call(this,t.map(function(t){return[t[0],t[1]]}),{tension:e,alpha:r,arcDivisions:i,closed:s})||this}function G(t,e,i,s){void 0===e&&(e=0),void 0===i&&(i=null),void 0===s&&(s=null),this.x=t=void 0===t?0:t,this.y=e,this.z=i,this.w=s}function P(t,e){void 0===e&&(e={});var i=this,s=(this._cache=new Map,(e=L({tension:.5,alpha:0,closed:!1},e)).arcDivisions?new W(e.arcDivisions,function(){return i._invalidateCache()}):new H(e.numericalApproximationOrder,e.numericalInverseSamples,function(){return i._invalidateCache()}));s.alpha=e.alpha,s.tension=e.tension,s.closed=e.closed,s.points=t,this._lmargin=e.lmargin||1-s.tension,this._curveMapper=s}function D(t,e,i){void 0===t&&(t=24),void 0===e&&(e=21);i=V.call(this,i)||this;return i._nSamples=21,i._gauss=function(t){if(t<5||j<t)throw Error("Order for Gaussian Quadrature must be in the range of ".concat(5," and ").concat(j,"."));return R[t-5]}(t),i._nSamples=e,i}function I(t,e,i,s){var t=n(t,e,!!(i=void 0===i?{}:i).closed),r=t.index,t=t.weight,r=T(r,e,!!i.closed),e=r[0];return A(E,t,C(e,r[1],r[2],r[3],i),s=s||new Array(e.length))}t.CurveInterpolator=v,t.CurveInterpolator2D=Y,t.EPS=x,t.LinearCurveMapper=W,t.NumericalCurveMapper=H,t.Point=U,t.binarySearch=c,t.calcKnotSequence=q,t.calculateCoefficients=C,t.clamp=y,t.copyValues=o,t.cross=h,t.derivativeAtT=S,t.distance=p,t.dot=B,t.evaluateForT=A,t.extrapolateControlPoint=l,t.fill=r,t.findRootsOfT=M,t.getBoundingBox=function(h,t){for(var t=L({tension:.5,alpha:0,closed:!1,from:0,to:1},t=void 0===t?{}:t),d=t.tension,p=t.alpha,u=t.closed,g=t.from,v=t.to,f=u?h.length:h.length-1,m=Math.floor(f*g),y=Math.ceil(f*v),e=I(g,h,{tension:d,alpha:p,closed:u}),i=I(v,h,{tension:d,alpha:p,closed:u}),b=[],S=[],s=0;s<e.length;s++)b[s]=Math.min(e[s],i[s]),S[s]=Math.max(e[s],i[s]);for(var r=function(e){var t=T(e-1,h,u),i=t[0],s=t[1],r=t[2],t=t[3];if(e<y)for(var n=0;n<r.length;n++)r[n]<b[n]&&(b[n]=r[n]),r[n]>S[n]&&(S[n]=r[n]);if(d<1)for(var a=f*g-(e-1),o=f*v-(e-1),l=function(t){return-x<t&&t<=1+x&&(e-1!==m||a<t)&&(e!==y||t<o)},c=C(i,s,r,t,{tension:d,alpha:p}),n=0;n<c.length;n++)!function(e){var t=c[e];w(3*t[0],2*t[1],t[2]).filter(l).forEach(function(t){t=E(t,c[e]);t<b[e]&&(b[e]=t),S[e]<t&&(S[e]=t)})}(n)},n=m+1;n<=y;n++)r(n);return{min:b,max:S}},t.getControlPoints=T,t.getCubicRoots=N,t.getPointAtT=I,t.getQuadRoots=w,t.getSegmentIndexAndT=n,t.getTangentAtT=function(t,e,i,s){var t=n(t,e,!!(i=void 0===i?{}:i).closed),r=t.index,t=t.weight,r=T(r,e,!!i.closed),e=r[0];return A(S,t,C(e,r[1],r[2],r[3],i),s=s||new Array(e.length))},t.magnitude=b,t.map=a,t.normalize=u,t.orthogonal=F,t.positionsLookup=function(t,e,i){for(var s=L({axis:0,closed:!1,margin:.5,max:0},i),r=s.axis,n=s.closed,a=s.margin,o=s.max,l=r,c=new Set,h=n?e.length:e.length-1,d=0;d<h;d+=1){var p=o<0?e.length-d:d,u=T(d,e,n),g=u[0],v=u[1],f=u[2],g=C(g,v,f,u[3],i),u=void 0;if(t-a<=(v[l]<f[l]?(u=v[l],f):(u=f[l],v))[l]&&u<=t+a){var m=M(t,g[l]);o<0?m.sort(function(t,e){return e-t}):0<=o&&m.sort(function(t,e){return t-e});for(var y=0;y<m.length;y++)if(!(0===m[y]&&0<d)){var b=(m[y]+p)/h;if(c.add(b),c.size===Math.abs(o))return Array.from(c)}}}return Array.from(c)},t.reduce=_,t.secondDerivativeAtT=g,t.simplify2d=function(t,e,i){if(void 0===e&&(e=.001),void 0===i&&(i=10),t.length<=4)return t;for(var s=t[0],r=s[0],n=s[1],a=t.map(function(t){return[t[0]-r,t[1]-n]}),s=a[0],o=s[0],l=s[1],c=[t[0]],h=1;h+1<a.length;h++){var d=a[h],p=d[0],d=d[1],u=a[h+1],g=u[0],u=u[1];(g-p!=0||u-d!=0)&&(g=Math.abs(o*u-l*g+g*d-u*p+l*p-o*d)/Math.sqrt(Math.pow(g-o,2)+Math.pow(u-l,2)),u=[o-p,l-d],u=Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)),e<g||i<=u)&&(c.push([p+r,d+n]),o=(g=[p,d])[0],l=g[1])}s=a[a.length-1];return c.push([s[0]+r,s[1]+n]),c},t.sumOfSquares=d,t.valueAtT=E,t.valuesLookup=function(t,e,i){for(var s=L({axis:0,closed:!1,margin:.5,max:0,processRefAxis:!1},i),r=s.axis,n=s.closed,a=s.margin,o=s.max,l=s.processRefAxis,c=r,h=[],d=n?e.length:e.length-1,p=0;p<d;p+=1){var u=T(o<0?d-(p+1):p,e,n),g=u[0],v=u[1],f=u[2],m=C(g,v,f,u[3],i),u=void 0;if(t-a<=(v[c]<f[c]?(u=v[c],f):(u=f[c],v))[c]&&u<=t+a){var y=M(t,m[c]);o<0?y.sort(function(t,e){return e-t}):0<=o&&y.sort(function(t,e){return t-e});for(var b=0;b<y.length;b++)if(!(0===y[b]&&0<p)){for(var S=[],x=0;x<g.length;x++){var w=x!==c||l?E(y[b],m[x]):t;S[x]=w}if(h.push(S),h.length===Math.abs(o))return h}}}return h}},"object"==typeof(i=t)&&void 0!==e?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((i="undefined"!=typeof globalThis?globalThis:i||self)["curve-interpolator"]={})}}),t=t({"node_modules/cubic-spline/index.js"(t,e){function s(s,t){var r,n,a,o,l=s.length;let c=0,h=0;for(;c<l&&h<=l;){let e=0,i=-1/0;for(let t=c;t<l;t++){var d=Math.abs(s[t][h]);d>i&&(e=t,i=d)}if(0!==s[e][h]){r=s,n=c,a=e,o=void 0,o=r[n],r[n]=r[a],r[a]=o;for(let e=c+1;e<l;e++){var p=s[e][h]/s[c][h];s[e][h]=0;for(let t=h+1;t<=l;t++)s[e][t]-=s[c][t]*p}c++}h++}for(let e=l-1;0<=e;e--){var i=0;s[e][e]&&(i=s[e][l]/s[e][e]),t[e]=i;for(let t=e-1;0<=t;t--)s[t][l]-=s[t][e]*i,s[t][e]=0}return t}function r(e,i){var s=[];for(let t=0;t<e;t++)s.push(new Float64Array(i));return s}e.exports=class{constructor(t,e){this.xs=t,this.ys=e,this.ks=this.getNaturalKs(new Float64Array(this.xs.length))}getNaturalKs(t){var e=this.xs.length-1,i=r(1+e,2+e);for(let t=1;t<e;t++)i[t][t-1]=1/(this.xs[t]-this.xs[t-1]),i[t][t]=2*(1/(this.xs[t]-this.xs[t-1])+1/(this.xs[t+1]-this.xs[t])),i[t][t+1]=1/(this.xs[t+1]-this.xs[t]),i[t][1+e]=3*((this.ys[t]-this.ys[t-1])/((this.xs[t]-this.xs[t-1])*(this.xs[t]-this.xs[t-1]))+(this.ys[t+1]-this.ys[t])/((this.xs[t+1]-this.xs[t])*(this.xs[t+1]-this.xs[t])));return i[0][0]=2/(this.xs[1]-this.xs[0]),i[0][1]=1/(this.xs[1]-this.xs[0]),i[0][1+e]=3*(this.ys[1]-this.ys[0])/((this.xs[1]-this.xs[0])*(this.xs[1]-this.xs[0])),i[e][e-1]=1/(this.xs[e]-this.xs[e-1]),i[e][e]=2/(this.xs[e]-this.xs[e-1]),i[e][1+e]=3*(this.ys[e]-this.ys[e-1])/((this.xs[e]-this.xs[e-1])*(this.xs[e]-this.xs[e-1])),s(i,t)}getIndexBefore(t){let e=0,i=this.xs.length;for(var s;e<i;)s=Math.floor((e+i)/2),this.xs[s]<t&&s!==e?e=s:i=this.xs[s]>=t&&s!==i?s:e;return e+1}at(t){var e=this.getIndexBefore(t),t=(t-this.xs[e-1])/(this.xs[e]-this.xs[e-1]),i=this.ks[e-1]*(this.xs[e]-this.xs[e-1])-(this.ys[e]-this.ys[e-1]),s=-this.ks[e]*(this.xs[e]-this.xs[e-1])+(this.ys[e]-this.ys[e-1]);return(1-t)*this.ys[e-1]+t*this.ys[e]+t*(1-t)*(i*(1-t)+s*t)}}}}),j=new Set;function H(){for(;;){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)});if(!1===j.has(t))return j.add(t),t}}var U,Y,X=class{constructor(){this.Items=new Map,this.DestroyedState=!1}Push(t){var e=H();return this.Items.set(e,t),e}Get(t){return this.Items.get(t)}Remove(t){var e=this.Items.get(t);if(void 0!==e)return this.Items.delete(t),e}GetIterator(){return this.Items.entries()}IsDestroyed(){return this.DestroyedState}Destroy(){this.DestroyedState||(this.DestroyedState=!0,delete this.Items)}},$=class{constructor(t,e){this.ConnectionReferences=t,this.Disconnected=!1,this.Location=t.Push({Callback:e,Connection:this})}Disconnect(){this.Disconnected||(this.Disconnected=!0,this.ConnectionReferences.Remove(this.Location),delete this.Location,delete this.Callback,delete this.SignalConnections)}IsDisconnected(){return this.Disconnected}},Z=class{constructor(t){this.Signal=t}Connect(t){return this.Signal.Connect(t)}IsDestroyed(){return this.Signal.IsDestroyed()}},T=class{constructor(){this.ConnectionReferences=new X,this.DestroyedState=!1}Connect(t){if(this.DestroyedState)throw"Cannot connect to a Destroyed Signal";return new $(this.ConnectionReferences,t)}Fire(...t){if(this.DestroyedState)throw"Cannot fire a Destroyed Signal";for(var[e,i]of this.ConnectionReferences.GetIterator())i.Callback(...t)}GetEvent(){return new Z(this)}IsDestroyed(){return this.DestroyedState}Destroy(){if(!this.DestroyedState){for(var[t,e]of this.ConnectionReferences.GetIterator())e.Connection.Disconnect();this.DestroyedState=!0,delete this.ConnectionReferences}}},J=t=>t instanceof $,Q=class{constructor(t,e){this.Cleaner=t,this.Id=e}Cancel(){void 0!==this.Id&&(this.Cleaner(this.Id),delete this.Id,delete this.Cleaner)}},n=(t,e)=>new Q(window.clearTimeout.bind(window),setTimeout(e,1e3*t)),K=t=>new Q(window.cancelAnimationFrame.bind(window),requestAnimationFrame(t)),tt=t=>t instanceof Q,et=t=>"Destroy"in t,C=class{constructor(){this.Items=new Map,this.DestroyedState=!1,this.DestroyingSignal=new T,this.CleanedSignal=new T,this.DestroyedSignal=new T,this.Destroying=this.DestroyingSignal.GetEvent(),this.Cleaned=this.CleanedSignal.GetEvent(),this.Destroyed=this.DestroyedSignal.GetEvent()}CleanItem(t){et(t)?t.Destroy():tt(t)?t.Cancel():t instanceof MutationObserver||t instanceof ResizeObserver?t.disconnect():J(t)?t.Disconnect():t instanceof HTMLElement?t.remove():t()}Give(t,e){return this.DestroyedState?this.CleanItem(t):(e=e??H(),this.Has(e)&&this.Clean(e),this.Items.set(e,t)),t}GiveItems(...t){for(const e of t)this.Give(e);return Array.from(arguments)}Has(t){return this.Items.has(t)}Clean(t){var e=this.Items.get(t);void 0!==e&&(this.Items.delete(t),this.CleanItem(e))}CleanUp(){for(var[t,e]of this.Items)this.Clean(t);!1===this.DestroyedState&&this.CleanedSignal.Fire()}IsDestroyed(){return this.DestroyedState}Destroy(){!1===this.DestroyedState&&(this.DestroyedState=!0,this.DestroyingSignal.Fire(),this.CleanUp(),delete this.Items,this.DestroyedSignal.Fire(),this.DestroyingSignal.Destroy(),this.CleanedSignal.Destroy(),this.DestroyedSignal.Destroy(),delete this.DestroyingSignal,delete this.CleanedSignal,delete this.DestroyedSignal)}},a=new C,it=document.currentScript,st=it.src.includes("https://xpui.app.spotify.com/"),rt=new T,nt=!1,i=Spicetify.Player,at=Spicetify.CosmosAsync,c=(Spicetify.showNotification,Spicetify.Platform?.History),ot=Spicetify.Playbar;{const s0=()=>{i=Spicetify.Player,at=Spicetify.CosmosAsync,U=Spicetify.showNotification,Y=Spicetify.Platform,c=Y?.History,ot=Spicetify.Playbar,void 0===i||void 0===at||void 0===U||void 0===Y||void 0===c||void 0===ot?a.Give(n(0,s0),"WaitForSpicetify"):(nt=!0,rt.Fire())};s0()}var lt,s,ct=rt.GetEvent(),ht={TrackInformation:{},ISRCLyrics:{}},dt={Analytics:{},LyricViews:{CardLyricsVisible:!1}},h=new Map,d=(h.set("TrackInformation",1),h.set("ISRCLyrics",6),new Map),o=(d.set("Analytics",1),d.set("LyricViews",1),new class{constructor(){var e,i,s,r,t=this.LoadStore("General"),n=this.LoadStore("ExpireCache");for(const o of["ISRCLyrics","TrackInformation"]){var a=n[o];let t=!1;for(const l in a)a[l].ExpiresAt<Date.now()&&(delete a[l],t=!0);t&&this.SaveChanges("ExpireCache",o,JSON.stringify(a))}this.Store=t,this.ExpireCacheStore=n,localStorage.removeItem("BeautifulLyrics");for([e,i]of h){localStorage.removeItem(this.GetItemLocation("General",e,!1)),localStorage.removeItem(this.GetItemLocation("ExpireCache",e,!1));for(let t=1;t<i;t+=1)localStorage.removeItem(this.GetItemLocation("ExpireCache",e,t))}for([s,r]of d){localStorage.removeItem(this.GetItemLocation("General",s,!1));for(let t=1;t<r;t+=1)localStorage.removeItem(this.GetItemLocation("General",s,t))}}LoadStore(t){var e="General"===t?dt:ht,i={},s={};for(const n in e){var r=localStorage.getItem(this.GetItemLocation(t,n));null===r?s[n]=e[n]:i[n]=JSON.parse(r)}return{...i,...JSON.parse(JSON.stringify(s))}}GetItemLocation(t,e,i){i=void 0===i?"ExpireCache"===t?h.get(e):"General"===t?d.get(e):void 0:!1===i?void 0:i;return`BeautifulLyrics:${t}_`+e+(i?"_V"+i:"")}SaveChanges(t,e,i){localStorage.setItem(this.GetItemLocation(t,e),i)}GetExpireCache(t){return this.ExpireCacheStore[t]}GetDynamicItem(t){return localStorage.getItem(t)??void 0}SetDynamicItem(t,e){localStorage.setItem("BeautifulLyrics:Dynamic_"+t,e)}GetItem(t){return this.Store[t]}SaveItemChanges(t){this.SaveChanges("General",t,JSON.stringify(this.Store[t]))}GetFromExpireCache(t,e){var t=this.GetExpireCache(t),i=t[e];if(void 0!==i){if(!(i.ExpiresAt<Date.now()))return i.Content;delete t[e]}}SetExpireCacheItem(t,e,i,s){var r=this.GetExpireCache(t),n=new Date,s=(n.setHours(0,0,0,0),"Weeks"==s.Unit?n.setDate(n.getDate()+7*s.Duration):(n.setMonth(n.getMonth()+s.Duration),n.setDate(0)),n.getTime());r[e]={ExpiresAt:s,Content:i},this.SaveChanges("ExpireCache",t,JSON.stringify(r))}}),pt=/<span\s+begin="[\d:.]+"/g,ut=/<p\s+begin="[\d:.]+"/g,gt="ttm:role",vt=/^v(\d+)$/,ft=/(?:(\d+):)?(\d+)(?:\.(\d+))?$/,mt=/[־׀׃א-״؛-ي٭-ە‏ײַ-ﳝﶈ-ﷺﺂ-ﻼ]/,yt=t=>mt.test(t)?"Right":"Left",bt=t=>{t=t.getAttribute("ttm:agent"),t=null===t?void 0:vt.exec(t)?.[1];return void 0===t?void 0:parseInt(t,10)},k=t=>{t=ft.exec(t);return null===t?-1:60*(t[1]?parseInt(t[1],10):0)+parseInt(t[2],10)+(t[3]?parseInt(t[3],10):0)/1e3},St=t=>"span"===t.nodeName,xt=new DOMParser,wt=t=>{var i=("AppleMusic"===t.Source?t=>{var e=xt.parseFromString(t,"text/xml").querySelector("body"),i=yt(e.innerHTML),t=pt.test(t)?"Syllable":ut.test(t)?"Line":"Static";if("Static"==t){var s={NaturalAlignment:i,Type:"Static",Lyrics:[]};for(const C of e.children)if("div"===C.tagName)for(const E of C.children)"p"===E.tagName&&s.Lyrics.push(E.textContent);return s}if("Line"==t){var r,n,a,o={NaturalAlignment:i,StartTime:0,EndTime:0,Type:"Line",VocalGroups:[]};for(const M of e.children)if("div"===M.tagName)for(const A of M.children)"p"===A.tagName&&(r=void 0!==(r=bt(A))&&2===r,n=k(A.getAttribute("begin")),a=k(A.getAttribute("end")),o.VocalGroups.push({Type:"Vocal",OppositeAligned:r,Text:A.textContent,StartTime:n,EndTime:a}));var t=o.VocalGroups[0],l=o.VocalGroups[o.VocalGroups.length-1];return o.StartTime=t.StartTime,o.EndTime=l.EndTime,o}var c={NaturalAlignment:i,StartTime:0,EndTime:0,Type:"Syllable",VocalGroups:[]};for(const O of e.children)if("div"===O.tagName)for(const V of O.children)if("p"===V.tagName){var h,d,p=bt(V),p=void 0!==p&&2===p,u=[],g=[],v=V.childNodes;for([h,d]of v.entries())if(St(d))if("x-bg"===d.getAttribute(gt)){var f,m,y,b,S,x=d.childNodes;for([f,m]of x.entries())St(m)&&(y=k(m.getAttribute("begin")),b=k(m.getAttribute("end")),S=x[f+1],g.push({Text:m.textContent,IsPartOfWord:void 0!==S&&S.nodeType!==Node.TEXT_NODE,StartTime:y,EndTime:b}));var w=g[0],L=g[g.length-1];w.Text.startsWith("(")&&L.Text.endsWith(")")&&(w.Text=w.Text.slice(1),L.Text=L.Text.slice(0,-1))}else{var w=k(d.getAttribute("begin")),L=k(d.getAttribute("end")),T=v[h+1];u.push({Text:d.textContent,IsPartOfWord:void 0!==T&&T.nodeType!==Node.TEXT_NODE,StartTime:w,EndTime:L})}c.VocalGroups.push({Type:"Vocal",OppositeAligned:p,StartTime:0===g.length?u[0].StartTime:Math.min(u[0].StartTime,g[0].StartTime),EndTime:0===g.length?u[u.length-1].EndTime:Math.max(u[u.length-1].EndTime,g[g.length-1].EndTime),Lead:u,Background:0===g.length?void 0:g})}t=c.VocalGroups[0],l=c.VocalGroups[c.VocalGroups.length-1];return c.StartTime=t.StartTime,c.EndTime=l.EndTime,c}:t=>{var e,i,s,r,n={NaturalAlignment:"Left",StartTime:0,EndTime:0,Type:"Line",VocalGroups:[]};for([e,i]of t.entries())i.words.includes("♪")||0===i.words.length&&"0"===i.endTimeMs||(s=parseInt(i.startTimeMs,10)/1e3,r="0"===i.endTimeMs?parseInt(t[e+1].startTimeMs,10)/1e3:parseInt(i.endTimeMs,10)/1e3,"Left"===n.NaturalAlignment&&"Right"===yt(i.words)&&(n.NaturalAlignment="Right"),n.VocalGroups.push({Type:"Vocal",OppositeAligned:!1,Text:i.words,StartTime:s,EndTime:r}));return n.StartTime=n.VocalGroups[0].StartTime,n.EndTime=n.VocalGroups[n.VocalGroups.length-1].EndTime,n})(t.Content);if("Static"!==i.Type){let e=!1;t=i.VocalGroups[0];2<=t.StartTime&&(i.VocalGroups.unshift({Type:"Interlude",StartTime:0,EndTime:t.StartTime-.25}),e=!0);for(let t=i.VocalGroups.length-1;t>(e?1:0);--t){var s=i.VocalGroups[t],r=i.VocalGroups[t-1];2<=s.StartTime-r.EndTime&&i.VocalGroups.splice(t,0,{Type:"Interlude",StartTime:r.EndTime,EndTime:s.StartTime-.25})}}return i},Lt={Duration:2,Unit:"Weeks"},Tt={Duration:1,Unit:"Months"},Ct=class{constructor(t,e,i,s,r){this.Maid=new C,this.Timestamp=0,this.DeltaTime=1/60,this.TimeSteppedSignal=this.Maid.Give(new T),this.IsPlayingChangedSignal=this.Maid.Give(new T),this.DetailsLoadedSignal=this.Maid.Give(new T),this.TimeStepped=this.TimeSteppedSignal.GetEvent(),this.IsPlayingChanged=this.IsPlayingChangedSignal.GetEvent(),this.FireChangedSignal=r,this.Id=i,this.Duration=t,this.CoverArt={Large:s.image_xlarge_url,Big:s.image_large_url,Default:s.image_url,Small:s.image_small_url},this.Playing=e,this.HandleEvents(),this.LoadDetails()}HandleEvents(){{const t=t=>{void 0!==t&&t.data!==lt&&(lt=t.data,t=t.data/1e3,Math.abs(t-this.Timestamp)>=this.DeltaTime+1/120)&&this.UpdateTimestamp(t,1/60,!0)};i.addEventListener("onprogress",t),this.Maid.Give(()=>i.removeEventListener("onprogress",t))}{const e=t=>{void 0!==t&&this.Playing===t.data.is_paused&&(this.Playing=!this.Playing,this.IsPlayingChangedSignal.Fire(this.Playing))};i.addEventListener("onplaypause",e),this.Maid.Give(()=>i.removeEventListener("onplaypause",e))}}LoadDetails(){new Promise(e=>{var t=o.GetFromExpireCache("TrackInformation",this.Id);void 0===t?at.request("GET","https://api.spotify.com/v1/tracks/"+this.Id).catch(t=>{throw console.warn(t),t}).then(t=>{if(t.status<200||299<t.status)throw`Failed to load Track (${this.Id}) Information`;t=t.body;o.SetExpireCacheItem("TrackInformation",this.Id,t,Lt),e(t)}):e(t)}).then(e=>{const i=e.external_ids.isrc;var t=o.GetFromExpireCache("ISRCLyrics",i);return void 0===t?fetch("https://beautiful-lyrics.socalifornian.live/lyrics/"+i).then(t=>{if(!1===t.ok)throw`Failed to load Lyrics for Track (${this.Id}), Error: ${t.status} `+t.statusText;return t.text()}).then(t=>{if(0!==t.length)return JSON.parse(t)}).then(t=>{t=void 0===t?void 0:wt(t);return o.SetExpireCacheItem("ISRCLyrics",i,t??!1,Tt),[e,t]}):Promise.resolve([e,t||void 0])}).then(([t,e])=>{this.Details={ISRC:t.external_ids.isrc,Lyrics:e},this.LoadedDetails=!0,this.DetailsLoadedSignal.Fire()})}StartNaturalTimestepping(){let i=Date.now();const s=()=>{var t=Date.now(),e=(t-i)/1e3;this.Playing&&this.UpdateTimestamp(Math.min(this.Timestamp+e,this.Duration),e),this.DeltaTime=e,i=t,this.Maid.Give(K(s),"NaturalTimestepping")};s()}UpdateTimestamp(t,e,i){this.Timestamp=t;var s=this.FireChangedSignal;void 0!==s&&(delete this.FireChangedSignal,s(this)),this.TimeSteppedSignal.Fire(t,e,i),void 0!==s&&this.StartNaturalTimestepping()}GetId(){return this.Id}GetDuration(){return this.Duration}GetCoverArt(){return this.CoverArt}GetDetails(){return!0===this.LoadedDetails?Promise.resolve(this.Details):new Promise(t=>this.DetailsLoadedSignal.Connect(()=>t(this.Details)))}IsPlaying(){return this.Playing}GetTimestamp(){return this.Timestamp}SetTimestamp(t){i.seek(1e3*t)}Destroy(){this.Maid.Destroy()}},Et=/^spotify:track:([\w\d]+)$/,p=new class{constructor(){this.Maid=a.Give(new C),this.SongChangedSignal=this.Maid.Give(new T),this.SongChanged=this.SongChangedSignal.GetEvent()}GetSong(){if(!this.SongJustChanged)return this.Song}Start(){if(void 0===this.Started){this.Started=!0;{const t=t=>{var e,i,s;this.Maid.Clean("Song"),void 0===t||void 0===t.data.track?(this.Song=void 0,this.SongJustChanged=void 0,this.SongChangedSignal.Fire()):(e=(i=t.data.track).uri.match(Et)[1],i=i.metadata,s=t.data.duration/1e3,this.Song=this.Maid.Give(new Ct(s,!t.data.is_paused,e,i,t=>this.SongChangedSignal.Fire(t)),"Song"))};i.addEventListener("songchange",t),this.Maid.Give(()=>i.removeEventListener("songchange",t))}}}},Mt=new T,At=t=>{t?.GetCoverArt().Default!==s?.Default&&(s=t?.GetCoverArt(),Mt.Fire(s))},Ot=Mt.GetEvent(),Vt=()=>s,kt=t=>{t=t.match(/(\d+)\.(\d+)\.(\d+)(?:\.(\d+))?/);if(null!==t)return{Text:t[0],Major:parseInt(t[1]),Minor:parseInt(t[2]),Patch:parseInt(t[3]),Control:t[4]?parseInt(t[4]):void 0}},Gt=kt("3.0.5"),Pt=async()=>{let r=1;fetch("https://api.github.com/repos/surfbryce/beautiful-lyrics/contents/dist/beautiful-lyrics.js").then(t=>t.json()).then(t=>fetch("https://api.github.com/repos/surfbryce/beautiful-lyrics/git/blobs/"+t.sha)).then(t=>t.json()).then(t=>atob(t.content)).then(t=>{var e,i,s=kt(t);void 0!==s&&([e,i]=((t,e)=>{e={Text:"",Major:e.Major-t.Major,Minor:e.Minor-t.Minor,Patch:e.Patch-t.Patch,Control:void 0===e.Control&&void 0===t.Control?0:void 0===e.Control||void 0===t.Control?t.Control:e.Control-t.Control};return[e,0!==e.Major||0!==e.Minor||0!==e.Patch||0!==e.Control]})(Gt,s),i&&(2<s.Major||2==s.Major&&4<=s.Minor)?(Spicetify.showNotification(`<h3>Beautiful Lyrics Updated!</h3>
				<h4 style = 'margin-top: 4px; margin-bottom: 4px; font-weight: normal;'>No need to re-install - it's already running!</h4>
				<span style = 'opacity: 0.75;'>Version ${Gt.Text} -> ${s.Text}</span>`,e.Major<0||e.Minor<0||e.Patch<0||0<e.Major,7500),i=t,a.Destroy(),document.querySelector("#beautifulDlyrics")?.remove(),(s=document.createElement("script")).setAttribute("type","text/javascript"),s.innerHTML=i,document.body.appendChild(s),it.remove()):r=5)}).catch(t=>console.warn("Error: "+t)).finally(()=>a.Give(n(60*r,Pt),"CheckForUpdate"))},Dt=W(e(),1),r="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,It=r||l||Function("return this")(),r=It.Symbol,l=Object.prototype,_t=l.hasOwnProperty,zt=l.toString,u=r?r.toStringTag:void 0;var Nt=function(t){var e=_t.call(t,u),i=t[u];try{var s=!(t[u]=void 0)}catch(t){}var r=zt.call(t);return s&&(e?t[u]=i:delete t[u]),r},Bt=Object.prototype.toString;var Ft=function(t){return Bt.call(t)},qt=r?r.toStringTag:void 0;var Wt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(qt&&qt in Object(t)?Nt:Ft)(t)};var Rt=function(t){return null!=t&&"object"==typeof t};var jt=function(t){return"symbol"==typeof t||Rt(t)&&"[object Symbol]"==Wt(t)},Ht=/\s/;var Ut=function(t){for(var e=t.length;e--&&Ht.test(t.charAt(e)););return e},Yt=/^\s+/;var Xt=function(t){return t&&t.slice(0,Ut(t)+1).replace(Yt,"")};var y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},$t=/^[-+]0x[0-9a-f]+$/i,Zt=/^0b[01]+$/i,Jt=/^0o[0-7]+$/i,Qt=parseInt;var Kt=function(t){if("number"==typeof t)return t;if(jt(t))return NaN;if(y(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=y(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=Xt(t);var e=Zt.test(t);return e||Jt.test(t)?Qt(t.slice(2),e?2:8):$t.test(t)?NaN:+t},te=function(){return It.Date.now()},ee=Math.max,ie=Math.min;var g=function(s,i,t){var r,n,a,o,l,c,h=0,d=!1,p=!1,e=!0;if("function"!=typeof s)throw new TypeError("Expected a function");function u(t){var e=r,i=n;return r=n=void 0,h=t,o=s.apply(i,e)}function g(t){var e=t-c;return void 0===c||i<=e||e<0||p&&a<=t-h}function v(){var t,e=te();if(g(e))return f(e);l=setTimeout(v,(t=i-((e=e)-c),p?ie(t,a-(e-h)):t))}function f(t){return l=void 0,e&&r?u(t):(r=n=void 0,o)}function m(){var t=te(),e=g(t);if(r=arguments,n=this,c=t,e){if(void 0===l)return h=t=c,l=setTimeout(v,i),d?u(t):o;if(p)return clearTimeout(l),l=setTimeout(v,i),u(c)}return void 0===l&&(l=setTimeout(v,i)),o}return i=Kt(i)||0,y(t)&&(d=!!t.leading,p="maxWait"in t,a=p?ee(Kt(t.maxWait)||0,i):a,e="trailing"in t?!!t.trailing:e),m.cancel=function(){void 0!==l&&clearTimeout(l),r=c=n=l=void(h=0)},m.flush=function(){return void 0===l?o:f(te())},m};var se=function(t,e,i){var s=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return y(i)&&(s="leading"in i?!!i.leading:s,r="trailing"in i?!!i.trailing:r),g(t,e,{leading:s,maxWait:e,trailing:r})},re=W(e(),1),v=function(){return(v=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},f=null,ne=null;function ae(){if(null===f){if("undefined"==typeof document)return f=0;var t=document.body,e=document.createElement("div"),i=(e.classList.add("simplebar-hide-scrollbar"),t.appendChild(e),e.getBoundingClientRect().right);t.removeChild(e),f=i}return f}function oe(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window}function le(t){return t&&t.ownerDocument?t.ownerDocument:document}re.default&&window.addEventListener("resize",function(){ne!==window.devicePixelRatio&&(ne=window.devicePixelRatio,f=null)});function ce(t){return Array.prototype.reduce.call(t,function(t,e){var i=e.name.match(/data-simplebar-(.+)/);if(i){var s=i[1].replace(/\W+(.)/g,function(t,e){return e.toUpperCase()});switch(e.value){case"true":t[s]=!0;break;case"false":t[s]=!1;break;case void 0:t[s]=!0;break;default:t[s]=e.value}}return t},{})}function he(t,e){t&&(t=t.classList).add.apply(t,e.split(" "))}function de(e,t){e&&t.split(" ").forEach(function(t){e.classList.remove(t)})}function pe(t){return".".concat(t.split(" ").join("."))}var l=Object.freeze({__proto__:null,getElementWindow:oe,getElementDocument:le,getOptions:ce,addClasses:he,removeClasses:de,classNamesToQuery:pe}),m=oe,ue=le,r=ce,b=he,S=de,x=pe,w=(L.getRtlHelpers=function(){if(!L.rtlHelpers){var t=document.createElement("div"),t=(t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>',t.firstElementChild),e=null==t?void 0:t.firstElementChild;if(!e)return null;document.body.appendChild(t),t.scrollLeft=0;var i=L.getOffset(t),s=L.getOffset(e),e=(t.scrollLeft=-999,L.getOffset(e));document.body.removeChild(t),L.rtlHelpers={isScrollOriginAtZero:i.left!==s.left,isScrollingToNegative:s.left!==e.left}}return L.rtlHelpers},L.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:ae()}catch(t){return ae()}},L.getOffset=function(t){var e=t.getBoundingClientRect(),i=ue(t),t=m(t);return{top:e.top+(t.pageYOffset||i.documentElement.scrollTop),left:e.left+(t.pageXOffset||i.documentElement.scrollLeft)}},L.prototype.init=function(){re.default&&(this.initDOM(),this.rtlHelpers=L.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},L.prototype.initDOM=function(){var t;this.wrapperEl=this.el.querySelector(x(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(x(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(x(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(x(this.classNames.offset)),this.maskEl=this.el.querySelector(x(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,x(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(x(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(x(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(x(this.classNames.track)).concat(x(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(x(this.classNames.track)).concat(x(this.classNames.vertical))),this.axis.x.scrollbar.el=(null==(t=this.axis.x.track.el)?void 0:t.querySelector(x(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null==(t=this.axis.y.track.el)?void 0:t.querySelector(x(this.classNames.scrollbar)))||null,this.options.autoHide||(b(this.axis.x.scrollbar.el,this.classNames.visible),b(this.axis.y.scrollbar.el,this.classNames.visible))},L.prototype.initListeners=function(){var t,e,i=this,s=m(this.el);this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null!=(e=this.contentWrapperEl)&&e.addEventListener("scroll",this.onScroll),s.addEventListener("resize",this.onWindowResize),this.contentEl&&(window.ResizeObserver&&(t=!1,e=s.ResizeObserver||ResizeObserver,this.resizeObserver=new e(function(){t&&s.requestAnimationFrame(function(){i.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),s.requestAnimationFrame(function(){t=!0})),this.mutationObserver=new s.MutationObserver(function(){s.requestAnimationFrame(function(){i.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0}))},L.prototype.recalculate=function(){var t,e,i,s,r,n,a,o;this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl&&(o=m(this.el),this.elStyles=o.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction,o=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,a=this.heightAutoObserverEl.offsetWidth<=1||0<o,t=this.contentWrapperEl.offsetWidth,e=this.elStyles.overflowX,i=this.elStyles.overflowY,this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft),s=this.contentEl.scrollHeight,r=this.contentEl.scrollWidth,this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=a?"".concat(o||r,"px"):"auto",this.placeholderEl.style.height="".concat(s,"px"),n=this.contentWrapperEl.offsetHeight,this.axis.x.isOverflowing=0!==o&&o<r,this.axis.y.isOverflowing=n<s,this.axis.x.isOverflowing="hidden"!==e&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==i&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar(),a=this.axis.x.isOverflowing?this.scrollbarWidth:0,o=this.axis.y.isOverflowing?this.scrollbarWidth:0,this.axis.x.isOverflowing=this.axis.x.isOverflowing&&t-o<r,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&n-a<s,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y"))},L.prototype.getScrollbarSize=function(t){var e,i;return this.axis[t=void 0===t?"y":t].isOverflowing&&this.contentEl?(e=this.contentEl[this.axis[t].scrollSizeAttr],t=null!=(i=null==(i=this.axis[t].track.el)?void 0:i[this.axis[t].offsetSizeAttr])?i:0,i=Math.max(~~(t/e*t),this.options.scrollbarMinSize),this.options.scrollbarMaxSize?Math.min(i,this.options.scrollbarMaxSize):i):0},L.prototype.positionScrollbar=function(t){var e,i,s,r,n,a=this.axis[t=void 0===t?"y":t].scrollbar;this.axis[t].isOverflowing&&this.contentWrapperEl&&a.el&&this.elStyles&&(e=this.contentWrapperEl[this.axis[t].scrollSizeAttr],i=(null==(i=this.axis[t].track.el)?void 0:i[this.axis[t].offsetSizeAttr])||0,s=parseInt(this.elStyles[this.axis[t].sizeAttr],10),r=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],r="x"===t&&this.isRtl&&null!=(n=L.getRtlHelpers())&&n.isScrollOriginAtZero?-r:r,"x"===t&&this.isRtl&&(r=null!=(n=L.getRtlHelpers())&&n.isScrollingToNegative?r:-r),n=~~((i-a.size)*(r/(e-s))),n="x"===t&&this.isRtl?-n+(i-a.size):n,a.el.style.transform="x"===t?"translate3d(".concat(n,"px, 0, 0)"):"translate3d(0, ".concat(n,"px, 0)"))},L.prototype.toggleTrackVisibility=function(t){var e=this.axis[t=void 0===t?"y":t].track.el,i=this.axis[t].scrollbar.el;e&&i&&this.contentWrapperEl&&(this.axis[t].isOverflowing||this.axis[t].forceVisible?(e.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(t))):(e.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(t))),this.axis[t].isOverflowing?i.style.display="block":i.style.display="none")},L.prototype.showScrollbar=function(t){this.axis[t=void 0===t?"y":t].isOverflowing&&!this.axis[t].scrollbar.isVisible&&(b(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!0)},L.prototype.hideScrollbar=function(t){this.axis[t=void 0===t?"y":t].isOverflowing&&this.axis[t].scrollbar.isVisible&&(S(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!1)},L.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},L.prototype.onMouseMoveForAxis=function(t){var e=this.axis[t=void 0===t?"y":t];e.track.el&&e.scrollbar.el&&(e.track.rect=e.track.el.getBoundingClientRect(),e.scrollbar.rect=e.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(e.track.rect)?(this.showScrollbar(t),b(e.track.el,this.classNames.hover),(this.isWithinBounds(e.scrollbar.rect)?b:S)(e.scrollbar.el,this.classNames.hover)):(S(e.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)))},L.prototype.onMouseLeaveForAxis=function(t){S(this.axis[t=void 0===t?"y":t].track.el,this.classNames.hover),S(this.axis[t].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)},L.prototype.onDragStart=function(t,e){void 0===e&&(e="y");var i=ue(this.el),s=m(this.el),r=this.axis[e].scrollbar,t="y"===e?t.pageY:t.pageX;this.axis[e].dragOffset=t-((null==(t=r.rect)?void 0:t[this.axis[e].offsetAttr])||0),this.draggedAxis=e,b(this.el,this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(s.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},L.prototype.onTrackClick=function(t,e){var i,s,r,n,a,o,l=this,c=(void 0===e&&(e="y"),this.axis[e]);this.options.clickOnTrack&&c.scrollbar.el&&this.contentWrapperEl&&(t.preventDefault(),i=m(this.el),this.axis[e].scrollbar.rect=c.scrollbar.el.getBoundingClientRect(),t=null!=(c=null==(t=this.axis[e].scrollbar.rect)?void 0:t[this.axis[e].offsetAttr])?c:0,c=parseInt(null!=(c=null==(c=this.elStyles)?void 0:c[this.axis[e].sizeAttr])?c:"0px",10),s=this.contentWrapperEl[this.axis[e].scrollOffsetAttr],r=("y"===e?this.mouseY-t:this.mouseX-t)<0?-1:1,n=-1===r?s-c:s+c,a=40,(o=function(){l.contentWrapperEl&&(-1===r?n<s&&(s-=a,l.contentWrapperEl[l.axis[e].scrollOffsetAttr]=s,i.requestAnimationFrame(o)):s<n&&(s+=a,l.contentWrapperEl[l.axis[e].scrollOffsetAttr]=s,i.requestAnimationFrame(o)))})())},L.prototype.getContentElement=function(){return this.contentEl},L.prototype.getScrollElement=function(){return this.contentWrapperEl},L.prototype.removeListeners=function(){var t=m(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},L.prototype.unMount=function(){this.removeListeners()},L.prototype.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},L.prototype.findChild=function(t,e){var i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,function(t){return i.call(t,e)})[0]},L.rtlHelpers=null,L.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},L.getOptions=r,L.helpers=l,L);function L(t,e){void 0===e&&(e={});var a=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var t=m(a.el);a.scrollXTicking||(t.requestAnimationFrame(a.scrollX),a.scrollXTicking=!0),a.scrollYTicking||(t.requestAnimationFrame(a.scrollY),a.scrollYTicking=!0),a.isScrolling||(a.isScrolling=!0,b(a.el,a.classNames.scrolling)),a.showScrollbar("x"),a.showScrollbar("y"),a.onStopScrolling()},this.scrollX=function(){a.axis.x.isOverflowing&&a.positionScrollbar("x"),a.scrollXTicking=!1},this.scrollY=function(){a.axis.y.isOverflowing&&a.positionScrollbar("y"),a.scrollYTicking=!1},this._onStopScrolling=function(){S(a.el,a.classNames.scrolling),a.options.autoHide&&(a.hideScrollbar("x"),a.hideScrollbar("y")),a.isScrolling=!1},this.onMouseEnter=function(){a.isMouseEntering||(b(a.el,a.classNames.mouseEntered),a.showScrollbar("x"),a.showScrollbar("y"),a.isMouseEntering=!0),a.onMouseEntered()},this._onMouseEntered=function(){S(a.el,a.classNames.mouseEntered),a.options.autoHide&&(a.hideScrollbar("x"),a.hideScrollbar("y")),a.isMouseEntering=!1},this._onMouseMove=function(t){a.mouseX=t.clientX,a.mouseY=t.clientY,(a.axis.x.isOverflowing||a.axis.x.forceVisible)&&a.onMouseMoveForAxis("x"),(a.axis.y.isOverflowing||a.axis.y.forceVisible)&&a.onMouseMoveForAxis("y")},this.onMouseLeave=function(){a.onMouseMove.cancel(),(a.axis.x.isOverflowing||a.axis.x.forceVisible)&&a.onMouseLeaveForAxis("x"),(a.axis.y.isOverflowing||a.axis.y.forceVisible)&&a.onMouseLeaveForAxis("y"),a.mouseX=-1,a.mouseY=-1},this._onWindowResize=function(){a.scrollbarWidth=a.getScrollbarWidth(),a.hideNativeScrollbar()},this.onPointerEvent=function(t){var e,i;a.axis.x.track.el&&a.axis.y.track.el&&a.axis.x.scrollbar.el&&a.axis.y.scrollbar.el&&(a.axis.x.track.rect=a.axis.x.track.el.getBoundingClientRect(),a.axis.y.track.rect=a.axis.y.track.el.getBoundingClientRect(),(a.axis.x.isOverflowing||a.axis.x.forceVisible)&&(e=a.isWithinBounds(a.axis.x.track.rect)),(a.axis.y.isOverflowing||a.axis.y.forceVisible)&&(i=a.isWithinBounds(a.axis.y.track.rect)),e||i)&&(t.stopPropagation(),"pointerdown"===t.type)&&"touch"!==t.pointerType&&(e&&(a.axis.x.scrollbar.rect=a.axis.x.scrollbar.el.getBoundingClientRect(),a.isWithinBounds(a.axis.x.scrollbar.rect)?a.onDragStart(t,"x"):a.onTrackClick(t,"x")),i)&&(a.axis.y.scrollbar.rect=a.axis.y.scrollbar.el.getBoundingClientRect(),a.isWithinBounds(a.axis.y.scrollbar.rect)?a.onDragStart(t,"y"):a.onTrackClick(t,"y"))},this.drag=function(t){var e,i,s,r,n;a.draggedAxis&&a.contentWrapperEl&&(e=null!=(e=null==(e=(n=a.axis[a.draggedAxis].track).rect)?void 0:e[a.axis[a.draggedAxis].sizeAttr])?e:0,i=a.axis[a.draggedAxis].scrollbar,s=null!=(s=null==(s=a.contentWrapperEl)?void 0:s[a.axis[a.draggedAxis].scrollSizeAttr])?s:0,r=parseInt(null!=(r=null==(r=a.elStyles)?void 0:r[a.axis[a.draggedAxis].sizeAttr])?r:"0px",10),t.preventDefault(),t.stopPropagation(),t=("y"===a.draggedAxis?t.pageY:t.pageX)-(null!=(t=null==(t=n.rect)?void 0:t[a.axis[a.draggedAxis].offsetAttr])?t:0)-a.axis[a.draggedAxis].dragOffset,n=(t="x"===a.draggedAxis&&a.isRtl?(null!=(n=null==(n=n.rect)?void 0:n[a.axis[a.draggedAxis].sizeAttr])?n:0)-i.size-t:t)/(e-i.size)*(s-r),"x"===a.draggedAxis&&a.isRtl&&(n=null!=(t=L.getRtlHelpers())&&t.isScrollingToNegative?-n:n),a.contentWrapperEl[a.axis[a.draggedAxis].scrollOffsetAttr]=n)},this.onEndDrag=function(t){var e=ue(a.el),i=m(a.el);t.preventDefault(),t.stopPropagation(),S(a.el,a.classNames.dragging),e.removeEventListener("mousemove",a.drag,!0),e.removeEventListener("mouseup",a.onEndDrag,!0),a.removePreventClickId=i.setTimeout(function(){e.removeEventListener("click",a.preventClick,!0),e.removeEventListener("dblclick",a.preventClick,!0),a.removePreventClickId=null})},this.preventClick=function(t){t.preventDefault(),t.stopPropagation()},this.el=t,this.options=v(v({},L.defaultOptions),e),this.classNames=v(v({},L.defaultOptions.classNames),e.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=se(this._onMouseMove,64),this.onWindowResize=g(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=g(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=g(this._onMouseEntered,this.stopScrollDelay),this.init()}var ge=function(t,e){return(ge=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}))(t,e)};var e=w.helpers,ve=e.getOptions,E=e.addClasses,fe=function(s){var t=r,e=s;if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s.apply(this,t)||this;return r.instances.set(t[0],i),i}return ge(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i),r.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(t){"init"===t.getAttribute("data-simplebar")||r.instances.has(t)||new r(t,ve(t.attributes))})},r.removeObserver=function(){var t;null!=(t=r.globalObserver)&&t.disconnect()},r.prototype.initDOM=function(){var t,e,i=this;if(!Array.prototype.filter.call(this.el.children,function(t){return t.classList.contains(i.classNames.wrapper)}).length){for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),E(this.wrapperEl,this.classNames.wrapper),E(this.contentWrapperEl,this.classNames.contentWrapper),E(this.offsetEl,this.classNames.offset),E(this.maskEl,this.classNames.mask),E(this.contentEl,this.classNames.contentEl),E(this.placeholderEl,this.classNames.placeholder),E(this.heightAutoObserverWrapperEl,this.classNames.heightAutoObserverWrapperEl),E(this.heightAutoObserverEl,this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl),null!=(t=this.contentWrapperEl)&&t.setAttribute("tabindex","0"),null!=(t=this.contentWrapperEl)&&t.setAttribute("role","region"),null!=(t=this.contentWrapperEl)&&t.setAttribute("aria-label",this.options.ariaLabel)}this.axis.x.track.el&&this.axis.y.track.el||(t=document.createElement("div"),e=document.createElement("div"),E(t,this.classNames.track),E(e,this.classNames.scrollbar),t.appendChild(e),this.axis.x.track.el=t.cloneNode(!0),E(this.axis.x.track.el,this.classNames.horizontal),this.axis.y.track.el=t.cloneNode(!0),E(this.axis.y.track.el,this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)),w.prototype.initDOM.call(this),this.el.setAttribute("data-simplebar","init")},r.prototype.unMount=function(){w.prototype.unMount.call(this),r.instances.delete(this.el)},r.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver(r.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},r.handleMutations=function(t){t.forEach(function(t){t.addedNodes.forEach(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")?!r.instances.has(t)&&document.documentElement.contains(t)&&new r(t,ve(t.attributes)):t.querySelectorAll("[data-simplebar]").forEach(function(t){"init"!==t.getAttribute("data-simplebar")&&!r.instances.has(t)&&document.documentElement.contains(t)&&new r(t,ve(t.attributes))}))}),t.removedNodes.forEach(function(t){1===t.nodeType&&("init"===t.getAttribute("data-simplebar")?r.instances.has(t)&&!document.documentElement.contains(t)&&r.instances.get(t).unMount():Array.prototype.forEach.call(t.querySelectorAll('[data-simplebar="init"]'),function(t){r.instances.has(t)&&!document.documentElement.contains(t)&&r.instances.get(t).unMount()}))})})},r.instances=new WeakMap,r}(w),me=(Dt.default&&fe.initHtmlApi(),t=>{var e=window.getComputedStyle(t),i=parseFloat(e.marginTop),e=parseFloat(e.marginBottom);return t.offsetHeight+i+e}),ye=class{constructor(t,e,i,s){this.GroupDimensions=[],this.AutoScrollBlocked=!1,this.AutoScrolling=!1,this.LastActiveVocalIndex=0,this.LyricsEnded=!1,this.Maid=new C,this.Scroller=new fe(t),this.ScrollerObject=this.Scroller.getScrollElement(),this.Maid.Give(this.Scroller.unMount.bind(this.Scroller)),this.ScrollContainer=t,this.LyricsContainer=e,this.VocalGroups=i,this.WatchAutoScrollBlocking(),this.Maid.Give(new ResizeObserver(()=>{this.UpdateLyricHeights(),s&&this.MoveToActiveLyrics()})).observe(this.ScrollContainer),this.UpdateLyricHeights(),s&&(this.HandleLyricActiveStateChanges(),this.MoveToActiveLyrics(!0))}ToggleAutoScrollBlock(t){this.AutoScrollBlocked!==t&&(t?(this.AutoScrollBlocked=!0,this.ScrollContainer.classList.add("UserScrolling")):(this.AutoScrollBlocked=!1,this.ScrollContainer.classList.remove("UserScrolling")))}WatchAutoScrollBlocking(){const t=()=>{!1===this.AutoScrolling?(this.ToggleAutoScrollBlock(!0),this.Maid.Give(n(.75,()=>this.MoveToActiveLyrics()),"WaitForUserToStopScrolling")):this.Maid.Give(n(1/30,()=>this.AutoScrolling=!1),"WaitForAutoScroll")};this.ScrollerObject.addEventListener("scroll",t),this.Maid.Give(()=>this.ScrollerObject.removeEventListener("scroll",t))}HandleLyricActiveStateChanges(){for(const t of this.VocalGroups)for(const e of t.Vocals)this.Maid.Give(e.ActivityChanged.Connect(()=>this.MoveToActiveLyrics(!0)))}UpdateLyricHeights(){this.GroupDimensions=[];let t=0;for(const i of this.VocalGroups){var e=me(i.GroupContainer);this.GroupDimensions.push({Height:e/2,Center:t+e/2}),t+=e}this.LyricsContainer.style.height=t+"px",this.Scroller.recalculate()}DetermineLyricBlur(){let t,e;var i,s,r,n=[];for(const o of this.VocalGroups)for(const l of o.Vocals)l.IsActive()&&(i=n.length,void 0===t&&(t=i),e=i),n.push(l);void 0===t||void 0===e?(t=this.LastActiveVocalIndex,e=t):this.LastActiveVocalIndex=t;for([s,r]of n.entries()){var a=Math.min(s<t?t-s:s>e?s-e:0,4);r.SetBlur(1.25*a)}}MoveToActiveLyrics(s){if(s&&this.DetermineLyricBlur(),!this.AutoScrollBlocked||!this.Scroller.isScrolling){var t,e,s=window.getComputedStyle(this.LyricsContainer),r=parseInt(s.marginTop),s="1"===s.getPropertyValue("--use-offset")?parseInt(s.lineHeight):0,n=this.ScrollContainer.offsetHeight,a=n/2-s,o=a-r,l=this.ScrollerObject.scrollTop,i=this.ScrollerObject.scrollHeight-n,c=[];for([t,e]of this.VocalGroups.entries())e.Vocals.some(t=>t.IsActive())&&c.push({Dimensions:this.GroupDimensions[t],Group:e});if(0===c.length)!1===this.AutoScrollBlocked&&this.LyricsEnded&&l<i&&this.ScrollTo(i);else{let t=0,e=0;for(const h of c)e+=h.Dimensions.Height,t+=h.Dimensions.Center;t/=c.length;let i;this.AutoScrollBlocked||t>o?(this.AutoScrollBlocked&&t>=l-e&&t<=l+n&&(this.ToggleAutoScrollBlock(!1),this.DetermineLyricBlur()),!1===this.AutoScrollBlocked&&(i=t-a+r+s)):0<l&&(i=0),void 0!==i&&this.ScrollTo(i)}}}ScrollTo(t){this.AutoScrolling=!0,this.ScrollerObject.scrollTop=t,this.Scroller.scrollY()}SetLyricsEnded(t){this.LyricsEnded=t}ForceToActive(t){this.ToggleAutoScrollBlock(!1),t?this.Maid.Clean("ForceToActiveCSS"):(this.ScrollContainer.classList.add("InstantScroll"),this.Maid.Give(K(()=>this.ScrollContainer.classList.remove("InstantScroll")),"ForceToActiveCSS")),this.MoveToActiveLyrics()}ForceToTop(){this.ToggleAutoScrollBlock(!1),this.ScrollTo(0)}Destroy(){this.Maid.Destroy()}},be=W(R()),Se=Math.PI/2;function xe(t){return Math.sin(t*Se)}var we,Le,Te=2*Math.PI,Ce=Math.exp,Ee=Math.sin,Me=Math.cos,Ae=Math.sqrt,M=class{constructor(t,e,i){if(this.Sleeping=!0,e*i<0)throw new Error("Spring does not converge.");this.DampingRatio=e,this.Frequency=i,this.Velocity=0,this.Position=t,this.Final=t}Update(i){var s=this.Frequency*Te,r=this.Final,n=this.Velocity,a=this.Position-r,o=this.DampingRatio,l=Ce(-o*s*i);let c,h;if(1==this.DampingRatio)c=(a*(1+s*i)+n*i)*l+r,h=(n*(1-s*i)-s*s*i*a)*l;else if(this.DampingRatio<1){var d=Ae(1-o*o),p=Me(s*d*i),u=Ee(s*d*i);let t;t=1e-4<d?u/d:(g=i*s)+g*g*g*(g*g*(d*d)*(d*d)/20-d*d)/6;let e;e=1e-4<s*d?u/(s*d):i+i*i*i*(i*i*((g=s*d)*g)*(g*g)/20-g*g)/6,c=(a*(p+o*t)+n*e)*l+r,h=(n*(p-t*o)-a*(t*s))*l}else{var u=Ae(o*o-1),d=-s*(o-u),g=-s*(o+u),p=(n-a*d)/(2*s*u),l=(a-p)*Ce(d*i),o=p*Ce(g*i);c=l+o+r,h=l*d+o*g}return this.Position=c,this.Velocity=h,this.Sleeping=Math.abs(r-c)<=.1,c}Set(t){this.Position=t,this.Final=t,this.Velocity=0,this.Sleeping=!0}IsSleeping(){return this.Sleeping}},Oe=t(),r=t=>{var e=t.map(t=>t.Time),t=t.map(t=>t.Value);return new Oe(e,t)},A=(t,e,i)=>Math.max(e,Math.min(t,i)),Ve=.4,ke=1.25,Ge=.6,Pe=.7,De=.5,Ie=1,l=[{Time:0,Value:.125},{Time:.9,Value:-.2},{Time:1,Value:0}],e=[{Time:0,Value:0},{Time:.6,Value:1},{Time:1,Value:1}],Dt=[{Time:0,Value:.35},{Time:.6,Value:1},{Time:1,Value:1}],O={ScaleSpline:r([{Time:0,Value:.75},{Time:.7,Value:1.05},{Time:1,Value:1}]),YOffsetSpline:r(l),GlowSpline:r(e),OpacitySpline:r(Dt)},_e=()=>({Scale:new M(0,Ge,Pe),YOffset:new M(0,Ve,ke),Glow:new M(0,De,Ie),Opacity:new M(0,De,Ie)}),V={YOffsetDamping:.4,YOffsetFrequency:1.25,ScaleDamping:.7,ScaleFrequency:5,BaseScaleRange:[{Time:0,Value:0},{Time:.2,Value:1.05},{Time:-.075,Value:1.15},{Time:-0,Value:0}],OpacityRange:[{Time:0,Value:0},{Time:.5,Value:1},{Time:-.075,Value:1},{Time:-0,Value:0}],YOffsetRange:[{Time:0,Value:.01},{Time:.9,Value:-1/60},{Time:1,Value:0}]},ze=new be.CurveInterpolator(V.YOffsetRange.map(t=>[t.Time,t.Value])),Ne=()=>({Scale:new M(0,V.ScaleDamping,V.ScaleFrequency),YOffset:new M(0,V.YOffsetDamping,V.YOffsetFrequency),Opacity:new M(0,V.YOffsetDamping,V.YOffsetFrequency)}),Be=class{constructor(t,e){this.Maid=new C,this.Dots=[],this.State="Idle",this.IsSleeping=!0,this.ActivityChangedSignal=this.Maid.Give(new T),this.RequestedTimeSkipSignal=this.Maid.Give(new T),this.ActivityChanged=this.ActivityChangedSignal.GetEvent(),this.RequestedTimeSkip=this.RequestedTimeSkipSignal.GetEvent(),this.UpdateLiveDotState=(t,e,i,s)=>{var r=O.ScaleSpline.at(e),n=O.YOffsetSpline.at(e),i=O.GlowSpline.at(i),e=O.OpacitySpline.at(e);s?(t.Springs.Scale.Set(r),t.Springs.YOffset.Set(n),t.Springs.Glow.Set(i),t.Springs.Opacity.Set(e)):(t.Springs.Scale.Final=r,t.Springs.YOffset.Final=n,t.Springs.Glow.Final=i,t.Springs.Opacity.Final=e)},this.UpdateLiveDotVisuals=(t,e)=>{var i=t.Springs.Scale.Update(e),s=t.Springs.YOffset.Update(e),r=t.Springs.Glow.Update(e),e=t.Springs.Opacity.Update(e);return t.Object.style.transform=`translateY(calc(var(--dot-size) * ${s}))`,t.Object.style.scale=i.toString(),t.Object.style.setProperty("--text-shadow-blur-radius",4+6*r+"px"),t.Object.style.setProperty("--text-shadow-opacity",90*r+"%"),t.Object.style.opacity=e.toString(),t.Springs.Scale.IsSleeping()&&t.Springs.YOffset.IsSleeping()&&t.Springs.Glow.IsSleeping()&&t.Springs.Opacity.IsSleeping()},this.UpdateLiveMainState=(t,e,i)=>{var s=ze.getPointAt(e)[1],r=this.ScaleSpline.getIntersects(e),e=this.OpacitySpline.getIntersects(e),r=0===r.length?1:r[r.length-1][1],e=0===e.length?1:e[e.length-1][1];i?(t.Springs.Scale.Set(r),t.Springs.YOffset.Set(s),t.Springs.Opacity.Set(e)):(t.Springs.Scale.Final=r,t.Springs.YOffset.Final=s,t.Springs.Opacity.Final=e)},this.UpdateLiveMainVisuals=(t,e)=>{var i=t.Springs.Scale.Update(e),s=t.Springs.YOffset.Update(e),e=t.Springs.Opacity.Update(e);return t.Object.style.transform=`translateY(calc(var(--dot-size) * ${s}))`,t.Object.style.scale=i.toString(),t.Object.style.opacity=xe(e).toString(),t.Springs.Scale.IsSleeping()&&t.Springs.YOffset.IsSleeping()&&t.Springs.Opacity.IsSleeping()};var i=this.Maid.Give(document.createElement("div")),s=(i.classList.add("Interlude"),this.Container=i,this.LiveText={Object:i,Springs:Ne()},this.StartTime=e.StartTime,this.Duration=e.EndTime-this.StartTime,V.BaseScaleRange.map(t=>({Time:t.Time,Value:t.Value}))),e=V.OpacityRange.map(t=>({Time:t.Time,Value:t.Value})),r=(s[2].Time+=this.Duration,e[2].Time+=this.Duration,s[3].Time=this.Duration,e[3].Time=this.Duration,s[1]),n=s[2].Time-r.Time;for(let t=Math.floor(n/2.25);0<t;--t){var a=r.Time+2.25*t,o=t%2==0?1.05:.95;s.splice(2,0,{Time:a,Value:o})}for(const c of[s,e])for(const h of c)h.Time/=this.Duration;this.ScaleSpline=new be.CurveInterpolator(s.map(t=>[t.Time,t.Value])),this.OpacitySpline=new be.CurveInterpolator(e.map(t=>[t.Time,t.Value]));{let e=0;for(let t=0;t<3;t++){var l=this.Maid.Give(document.createElement("span"));l.classList.add("InterludeDot"),this.Dots.push({Start:e,Duration:.925/3,GlowDuration:1-e,LiveText:{Object:l,Springs:_e()}}),i.appendChild(l),e+=.925/3}}this.SetToGeneralState(!1),t.appendChild(i)}EvaluateClassState(){var t=["Active","Sung"];let e;"Active"===this.State?(t.splice(0,1),e="Active"):"Sung"==this.State&&(t.splice(1,1),e="Sung");for(const i of t)this.Container.classList.contains(i)&&this.Container.classList.remove(i);void 0!==e&&this.Container.classList.add(e)}SetToGeneralState(t){var e=t?1:0;for(const i of this.Dots)this.UpdateLiveDotState(i.LiveText,e,e,!0),this.UpdateLiveDotVisuals(i.LiveText,0);this.UpdateLiveMainState(this.LiveText,e,!0),this.UpdateLiveMainVisuals(this.LiveText,0),this.State=t?"Sung":"Idle",this.EvaluateClassState()}Animate(e,i,s){var e=e-this.StartTime,r=A(e/this.Duration,0,1),t=0<=e,e=e<=this.Duration,e=t&&e,t=e?"Active":t?"Sung":"Idle",n=t!=this.State,a=n||e||s,o=(n&&(n=this.State,this.State=t,"Sung"!==this.State&&this.EvaluateClassState(),"Active"===n?this.ActivityChangedSignal.Fire(!1):e&&this.ActivityChangedSignal.Fire(!0)),a&&(this.IsSleeping=!1),!1===this.IsSleeping);if(a||o){let t=!0;for(const c of this.Dots){var l=A((r-c.Start)/c.Duration,0,1);a&&this.UpdateLiveDotState(c.LiveText,l,l,s),o&&!1===this.UpdateLiveDotVisuals(c.LiveText,i)&&(t=!1)}a&&this.UpdateLiveMainState(this.LiveText,r,s),(t=o&&!1===this.UpdateLiveMainVisuals(this.LiveText,i)?!1:t)&&!(this.IsSleeping=!0)==e&&this.EvaluateClassState()}}ForceState(t){this.SetToGeneralState(t)}IsActive(){return"Active"===this.State}SetBlur(){}Destroy(){this.Maid.Destroy()}},Fe=class{constructor(t,e){this.Maid=new C;var i=this.Maid.Give(document.createElement("div")),s=(i.classList.add("Vocals"),i.classList.add("Lead"),i.classList.add("Active"),this.Maid.Give(document.createElement("span")));s.classList.add("Lyric"),s.classList.add("Static"),s.innerText=e,i.appendChild(s),t.appendChild(i)}Destroy(){this.Maid.Destroy()}},qe=r([{Time:0,Value:0},{Time:.5,Value:1},{Time:.925,Value:1},{Time:1,Value:0}]),We=class{constructor(t,e){this.Maid=new C,this.State="Idle",this.IsSleeping=!0,this.ActivityChangedSignal=this.Maid.Give(new T),this.RequestedTimeSkipSignal=this.Maid.Give(new T),this.ActivityChanged=this.ActivityChangedSignal.GetEvent(),this.RequestedTimeSkip=this.RequestedTimeSkipSignal.GetEvent(),this.UpdateLiveTextState=(t,e)=>{t=qe.at(t);e?this.GlowSpring.Set(t):this.GlowSpring.Final=t},this.UpdateLiveTextVisuals=(t,e)=>{e=this.GlowSpring.Update(e);return this.Span.style.setProperty("--text-shadow-blur-radius",4+8*e+"px"),this.Span.style.setProperty("--text-shadow-opacity",50*e+"%"),this.Span.style.setProperty("--gradient-progress",0+120*t+"%"),this.GlowSpring.IsSleeping()};var i=this.Maid.Give(document.createElement("div")),s=(i.classList.add("Vocals"),i.classList.add("Lead"),(this.Container=i).addEventListener("click",()=>this.RequestedTimeSkipSignal.Fire()),this.StartTime=e.StartTime,this.Duration=e.EndTime-e.StartTime,this.Maid.Give(document.createElement("span")));s.classList.add("Lyric"),s.classList.add("Synced"),s.classList.add("Line"),s.innerText=e.Text,i.appendChild(s),this.Span=s,this.GlowSpring=new M(0,.5,1),this.SetToGeneralState(!1),t.appendChild(i)}EvaluateClassState(){var t=["Active","Sung"];let e;"Active"===this.State?(t.splice(0,1),e="Active"):"Sung"==this.State&&(t.splice(1,1),e="Sung");for(const i of t)this.Container.classList.contains(i)&&this.Container.classList.remove(i);void 0!==e&&this.Container.classList.add(e)}SetToGeneralState(t){var e=t?1:0;this.UpdateLiveTextState(e,!0),this.UpdateLiveTextVisuals(e,0),this.State=t?"Sung":"Idle",this.EvaluateClassState()}Animate(t,e,i){var t=t-this.StartTime,s=A(t/this.Duration,0,1),r=0<=t,n=t<=this.Duration,n=r&&n,r=n?"Active":r?"Sung":"Idle",a=r!=this.State,o=a||n||i;a&&(a=this.State,this.State=r,"Sung"!==this.State&&this.EvaluateClassState(),"Active"===a?this.ActivityChangedSignal.Fire(!1):n&&this.ActivityChangedSignal.Fire(!0)),o&&(this.IsSleeping=!1,this.UpdateLiveTextState(s,i||t<0||void 0)),!1===this.IsSleeping&&this.UpdateLiveTextVisuals(s,e)&&!(this.IsSleeping=!0)==n&&this.EvaluateClassState()}ForceState(t){this.SetToGeneralState(t)}IsActive(){return"Active"===this.State}SetBlur(t){this.Container.style.setProperty("--text-blur",t+"px")}Destroy(){this.Maid.Destroy()}},Re=r([{Time:0,Value:.95},{Time:.7,Value:1.025},{Time:1,Value:1}]),je=r([{Time:0,Value:.01},{Time:.9,Value:-1/60},{Time:1,Value:0}]),He=r([{Time:0,Value:0},{Time:.15,Value:1},{Time:.6,Value:1},{Time:1,Value:0}]),Ue=()=>({Scale:new M(0,.6,.7),YOffset:new M(0,.4,1.25),Glow:new M(0,.5,1)}),Ye=t=>1<=t.EndTime-t.StartTime&&t.Text.length<=12,Xe=class{constructor(t,e,i){this.Maid=new C,this.Syllables=[],this.State="Idle",this.IsSleeping=!0,this.ActivityChangedSignal=this.Maid.Give(new T),this.RequestedTimeSkipSignal=this.Maid.Give(new T),this.ActivityChanged=this.ActivityChangedSignal.GetEvent(),this.RequestedTimeSkip=this.RequestedTimeSkipSignal.GetEvent(),this.UpdateLiveTextState=(t,e,i,s)=>{var r=Re.at(e),e=je.at(e),i=He.at(i);s?(t.Springs.Scale.Set(r),t.Springs.YOffset.Set(e),t.Springs.Glow.Set(i)):(t.Springs.Scale.Final=r,t.Springs.YOffset.Final=e,t.Springs.Glow.Final=i)},this.UpdateLiveTextVisuals=(t,e,i,s)=>{var r=t.Springs.Scale.Update(s),n=t.Springs.YOffset.Update(s),s=t.Springs.Glow.Update(s);return t.Object.style.setProperty("--gradient-progress",120*i-20+"%"),t.Object.style.transform=`translateY(calc(var(--lyrics-size) * ${n*(e?2:1)}))`,t.Object.style.scale=r.toString(),t.Object.style.setProperty("--text-shadow-blur-radius",4+2*s*(e?3:1)+"px"),t.Object.style.setProperty("--text-shadow-opacity",s*(e?100:35)+"%"),t.Springs.Scale.IsSleeping()&&t.Springs.YOffset.IsSleeping()&&t.Springs.Glow.IsSleeping()};var s=this.Maid.Give(document.createElement("div")),r=(s.classList.add("Vocals"),s.classList.add(i?"Background":"Lead"),(this.Container=s).addEventListener("click",()=>this.RequestedTimeSkipSignal.Fire()),this.StartTime=e[0].StartTime,this.Duration=e[e.length-1].EndTime-this.StartTime,[]);{let t=[];for(const S of e)t.push(S),!1===S.IsPartOfWord&&(r.push(t),t=[]);0<t.length&&r.push(t)}for(const x of r){let t=s;var n,a,o,l=x.length,c=1<l;c&&((n=this.Maid.Give(document.createElement("span"))).classList.add("Word"),t=n,s.appendChild(n));for([a,o]of x.entries()){var h=Ye(o),d=this.Maid.Give(document.createElement("span")),p=(d.classList.add("Lyric"),d.classList.add("Syllable"),h?d.classList.add("Emphasis"):d.classList.add("Synced"),c&&a===l-1);o.IsPartOfWord&&(d.classList.add("PartOfWord"),0===a)?d.classList.add("StartOfWord"):p&&d.classList.add("EndOfWord");let e;if(h){var u=[];for(const w of o.Text)u.push(w);var g=1/u.length;e=[];let t=0;for(const L of o.Text){var v=this.Maid.Give(document.createElement("span"));v.classList.add("Letter"),v.classList.add("Synced"),v.innerText=L,d.appendChild(v),e.push({Start:t,Duration:g,GlowDuration:1-t,LiveText:{Object:v,Springs:Ue()}}),t+=g}}else d.innerText=o.Text;var p=o.StartTime-this.StartTime,f=o.EndTime-this.StartTime,m=p/this.Duration,y=f-p,f=f/this.Duration-m,b={Object:d,Springs:Ue()};h?this.Syllables.push({Type:"Letters",Start:p,Duration:y,StartScale:m,DurationScale:f,LiveText:b,Letters:e}):this.Syllables.push({Type:"Syllable",Start:p,Duration:y,StartScale:m,DurationScale:f,LiveText:b}),t.appendChild(d)}}this.SetToGeneralState(!1),t.appendChild(s)}EvaluateClassState(){var t=["Active","Sung"];let e;"Active"===this.State?(t.splice(0,1),e="Active"):"Sung"==this.State&&(t.splice(1,1),e="Sung");for(const i of t)this.Container.classList.contains(i)&&this.Container.classList.remove(i);void 0!==e&&this.Container.classList.add(e)}SetToGeneralState(t){var e=t?1:0;for(const i of this.Syllables)if(this.UpdateLiveTextState(i.LiveText,e,e,!0),this.UpdateLiveTextVisuals(i.LiveText,!1,e,0),"Letters"===i.Type)for(const s of i.Letters)this.UpdateLiveTextState(s.LiveText,e,e,!0),this.UpdateLiveTextVisuals(s.LiveText,!0,e,0);this.State=t?"Sung":"Idle",this.EvaluateClassState()}Animate(e,i,s){var e=e-this.StartTime,r=A(e/this.Duration,0,1),t=0<=e,e=e<=this.Duration,e=t&&e,t=e?"Active":t?"Sung":"Idle",n=t!=this.State,a=n||e||s,o=(n&&(n=this.State,this.State=t,"Sung"!==this.State&&this.EvaluateClassState(),"Active"===n?this.ActivityChangedSignal.Fire(!1):e&&this.ActivityChangedSignal.Fire(!0)),a&&(this.IsSleeping=!1),!1===this.IsSleeping);if(a||o){let t=!0;for(const p of this.Syllables){var l=A((r-p.StartScale)/p.DurationScale,0,1);if("Letters"==p.Type){var c=xe(l);for(const u of p.Letters){var h=c-u.Start,d=A(h/u.Duration,0,1),h=A(h/u.GlowDuration,0,1);a&&this.UpdateLiveTextState(u.LiveText,d,h,s),o&&!1===this.UpdateLiveTextVisuals(u.LiveText,!0,d,i)&&(t=!1)}}a&&this.UpdateLiveTextState(p.LiveText,l,l,s),o&&!1===this.UpdateLiveTextVisuals(p.LiveText,!1,l,i)&&(t=!1)}t&&!(this.IsSleeping=!0)==e&&this.EvaluateClassState()}}ForceState(t){this.SetToGeneralState(t)}IsActive(){return"Active"===this.State}SetBlur(t){this.Container.style.setProperty("--text-blur",t+"px")}Destroy(){this.Maid.Destroy()}},$e=class{constructor(t,e,r){this.Maid=new C;var i=this.Maid.Give(document.createElement("div")),n=(i.classList.add("LyricsScrollContainer"),this.Maid.Give(document.createElement("div")));if(n.classList.add("Lyrics"),i.appendChild(n),n.classList.add("NaturallyAligned"+r.NaturalAlignment),"Static"===r.Type){var s=[];for(const u of r.Lyrics){var a=this.Maid.Give(document.createElement("div"));a.classList.add("VocalsGroup"),s.push({GroupContainer:a,Vocals:[this.Maid.Give(new Fe(a,u))]}),n.appendChild(a)}this.Maid.Give(new ye(i,n,s,!1))}else{const g=[];var o,l,c=[];if("Line"===r.Type)for(const f of r.VocalGroups){var h=this.Maid.Give(document.createElement("button"));h.classList.add("VocalsGroup"),"Vocal"===f.Type?(f.OppositeAligned&&h.classList.add("AlignedOpposite"),g.push({GroupContainer:h,Vocals:[this.Maid.Give(new We(h,f))]})):g.push({GroupContainer:h,Vocals:[this.Maid.Give(new Be(h,f))]}),c.push(f.StartTime),n.appendChild(h)}else for(const m of r.VocalGroups){var d,p=this.Maid.Give(document.createElement("button"));p.classList.add("VocalsGroup"),"Vocal"===m.Type?(m.OppositeAligned&&p.classList.add("AlignedOpposite"),(d=[]).push(this.Maid.Give(new Xe(p,m.Lead,!1))),void 0!==m.Background&&d.push(this.Maid.Give(new Xe(p,m.Background,!0))),g.push({GroupContainer:p,Vocals:d})):g.push({GroupContainer:p,Vocals:[this.Maid.Give(new Be(p,m))]}),c.push(m.StartTime),n.appendChild(p)}const v=this.Maid.Give(new ye(i,n,g,!0));let s=!1;this.Maid.Give(e.TimeStepped.Connect((t,e,i)=>{this.Update(v,g,r.EndTime,t,e,i,s||void 0),i&&(s=s&&!1)})),this.Maid.Give(K(()=>this.Update(v,g,r.EndTime,e.GetTimestamp(),1/60,!0)));for([o,l]of g.entries()){const y=c[o];for(const b of l.Vocals)b.RequestedTimeSkip.Connect(()=>{s=!0,e.SetTimestamp(y)})}}t.appendChild(i)}Update(t,e,i,s,r,n,a){for(const o of e)for(const l of o.Vocals)l.Animate(s,r,n);t.SetLyricsEnded(i<=s),n&&t.ForceToActive(a)}Destroy(){this.Maid.Destroy()}},G=t=>{var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild},Ze=class{constructor(t,e,i){this.Maid=new C,this.CachedLyricViewSettings=o.GetItem("LyricViews"),this.Song=t,this.Lyrics=e,this.Container=this.Maid.Give(G('<div id="BeautifulLyrics-CardView" class="main-nowPlayingView-section main-nowPlayingView-sectionHeaderSpacing" style=""><div id="Header" class="Type__TypeElement-sc-goli3j-0 TypeElement-balladBold-textBase-type main-nowPlayingView-sectionHeader main-nowPlayingView-lyricsTitle" data-encore-id="type">Lyrics</div></div>')),this.Header=this.Container.querySelector("#Header"),this.ShowLyricsButton=this.Maid.Give(G('<button id="ShowLyrics" class="Button-sc-y0gtbx-0 Button-sm-buttonSecondary-useBrowserDefaultFocusStyle Button-sm-buttonSecondary-isUsingKeyboard-useBrowserDefaultFocusStyle ButtonSecondary___StyledEncoreButtonSecondary-sc-1nxt2rd-0 StyledEncoreButtonSecondary-sm" data-encore-id="buttonSecondary">Show lyrics</button>'));t=this.Maid.Give(G('<div class="main-nowPlayingView-lyricsControls"><button id="Page" class="Psc33HXPyazZYAAr1tgz VpNHGG5ZhoxQ8AqW709S" aria-label="Open in cinema mode"><svg role="img" height="16" width="16" aria-hidden="true" viewBox="0 0 16 16" data-encore-id="icon" class="Svg-sc-ytk21e-0 Svg-img-16-icon"><path d="M14.55 1c.8 0 1.45.65 1.45 1.45V7h-1.5V2.5h-13v11h5.507V15H1.45C.65 15 0 14.35 0 13.55V2.45C0 1.65.65 1 1.45 1h13.1z"></path><path d="M16 9.757a.75.75 0 0 0-.75-.75H9.068L6.56 6.5h1.385a.75.75 0 1 0 0-1.5H4v3.946a.75.75 0 0 0 1.5 0V7.561l3.076 3.075v3.614c0 .414.336.75.75.75h5.925a.75.75 0 0 0 .75-.75V9.757z"></path></svg></button><button id="Close" class="Psc33HXPyazZYAAr1tgz VpNHGG5ZhoxQ8AqW709S" aria-label="Close lyrics"><svg role="img" height="16" width="16" aria-hidden="true" viewBox="0 0 16 16" data-encore-id="icon" class="Svg-sc-ytk21e-0 Svg-img-16-icon"><path d="M1.47 1.47a.75.75 0 0 1 1.06 0L8 6.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L9.06 8l5.47 5.47a.75.75 0 1 1-1.06 1.06L8 9.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L6.94 8 1.47 2.53a.75.75 0 0 1 0-1.06z"></path></svg></button></div>'));this.ExpandedControls={Container:t,OpenPageButton:t.querySelector("#Page"),CloseButton:t.querySelector("#Close")},this.LyricsContainer=this.Maid.Give(G('<div class="main-nowPlayingView-lyricsContent"><div class="RootContainer"></div></div>')),this.LyricsRootContainer=this.LyricsContainer.querySelector(".RootContainer");{const s=Spicetify.Tippy(this.ExpandedControls.CloseButton,{...Spicetify.TippyProps,content:"Close Lyrics"}),r=(this.Maid.Give(()=>s.destroy()),Spicetify.Tippy(this.ExpandedControls.OpenPageButton,{...Spicetify.TippyProps,content:"Open Lyrics Page"}));this.Maid.Give(()=>r.destroy())}this.ShowLyricsButton.addEventListener("click",()=>this.SetLyricsVisibility(!0)),this.ExpandedControls.CloseButton.addEventListener("click",()=>this.SetLyricsVisibility(!1)),this.ExpandedControls.OpenPageButton.addEventListener("click",()=>c.push("/BeautifulLyrics/Main")),this.ReactToLyricsVisibility(),i.after(this.Container)}SetLyricsVisibility(t){this.CachedLyricViewSettings.CardLyricsVisible=t,this.ReactToLyricsVisibility(),o.SaveItemChanges("LyricViews")}ReactToLyricsVisibility(){var t=this.CachedLyricViewSettings.CardLyricsVisible;const e=t?this.ExpandedControls.Container:this.ShowLyricsButton;this.Header.appendChild(e),this.Maid.Give(()=>e.remove(),"VisibleHeaderElement"),t?(this.Maid.Give(new $e(this.LyricsRootContainer,this.Song,this.Lyrics),"LyricsRenderer"),this.Container.appendChild(this.LyricsContainer)):(this.LyricsContainer.remove(),this.Maid.Clean("LyricsRenderer"))}Destroy(){this.Maid.Destroy()}},Je=class{constructor(t,e){this.Maid=new C;var i=c.entries[c.entries.length-2];void 0!==i&&!1===i.pathname.startsWith("/BeautifulLyrics")&&(we=i.pathname);{this.Container=this.Maid.Give(G('<div class="BeautifulLyricsPage"><div class="RootContainer"></div></div>')),e&&this.Container.classList.add("Cinema"),this.Header=this.Maid.Give(G('<div class="main-nowPlayingView-lyricsControls"><button id="Cinema" class="Psc33HXPyazZYAAr1tgz VpNHGG5ZhoxQ8AqW709S" aria-label="Open in cinema mode"><svg role="img" height="16" width="16" aria-hidden="true" viewBox="0 0 16 16" data-encore-id="icon" class="Svg-sc-ytk21e-0 Svg-img-16-icon"><path d="M14.55 1c.8 0 1.45.65 1.45 1.45V7h-1.5V2.5h-13v11h5.507V15H1.45C.65 15 0 14.35 0 13.55V2.45C0 1.65.65 1 1.45 1h13.1z"></path><path d="M16 9.757a.75.75 0 0 0-.75-.75H9.068L6.56 6.5h1.385a.75.75 0 1 0 0-1.5H4v3.946a.75.75 0 0 0 1.5 0V7.561l3.076 3.075v3.614c0 .414.336.75.75.75h5.925a.75.75 0 0 0 .75-.75V9.757z"></path></svg></button><button id="Main" class="Psc33HXPyazZYAAr1tgz VpNHGG5ZhoxQ8AqW709S" aria-label="Minimize lyrics" aria-expanded="false"><svg role="img" height="16" width="16" aria-hidden="true" viewBox="0 0 16 16" data-encore-id="icon" class="Svg-sc-ytk21e-0 Svg-img-16-icon"><path d="M14.55 1c.8 0 1.45.65 1.45 1.45V7h-1.5V2.5H2.595L5.5 5.406V4.021a.75.75 0 0 1 1.5 0v3.946H3.055a.75.75 0 0 1 0-1.5H4.44L1.5 3.527V13.5h5.507V15H1.45C.65 15 0 14.35 0 13.55V2.45C0 1.65.65 1 1.45 1h13.1z"></path><path d="M16 9.757a.75.75 0 0 0-.75-.75H9.325a.75.75 0 0 0-.75.75v4.493c0 .414.336.75.75.75h5.925a.75.75 0 0 0 .75-.75V9.757z"></path></svg></button><button id="Close" class="Psc33HXPyazZYAAr1tgz VpNHGG5ZhoxQ8AqW709S" aria-label="Close lyrics"><svg role="img" height="16" width="16" aria-hidden="true" viewBox="0 0 16 16" data-encore-id="icon" class="Svg-sc-ytk21e-0 Svg-img-16-icon"><path d="M1.47 1.47a.75.75 0 0 1 1.06 0L8 6.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L9.06 8l5.47 5.47a.75.75 0 1 1-1.06 1.06L8 9.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L6.94 8 1.47 2.53a.75.75 0 0 1 0-1.06z"></path></svg></button></div>'));let t;t=e?(this.Header.querySelector("#Cinema").remove(),this.Header.querySelector("#Main")):(this.Header.querySelector("#Main").remove(),this.Header.querySelector("#Cinema")),this.Controls={Change:t,Close:this.Header.querySelector("#Close")},this.LyricsContainer=this.Container.querySelector(".RootContainer")}{const s=Spicetify.Tippy(this.Controls.Close,{...Spicetify.TippyProps,content:"Close "+(e?"Cinema":"Page")}),r=(this.Maid.Give(()=>s.destroy()),Spicetify.Tippy(this.Controls.Change,{...Spicetify.TippyProps,content:e?"Leave Cinema":"Enter Cinema"}));this.Maid.Give(()=>r.destroy()),this.Controls.Close.addEventListener("click",()=>this.Close()),this.Controls.Change.addEventListener("click",()=>{e?c.push("/BeautifulLyrics/Main"):c.push("/BeautifulLyrics/Cinema")})}(e?(this.Container.firstChild.before(this.Header),document.querySelectorAll(".Root__main-view-overlay")[0]):(t.querySelector(".main-view-container__scroll-node-child-spacer").appendChild(this.Header),t)).appendChild(this.Container)}ReactToSongChange(){this.Maid.Clean("LyricsRenderer");const e=this.Song;void 0!==e&&e.GetDetails().then(t=>{void 0===t?.Lyrics?this.LyricsContainer.appendChild(this.Maid.Give(G(`<span class="NoLyrics">This song doesn't have any Lyrics!</span>`),"LyricsRenderer")):this.Maid.Give(new $e(this.LyricsContainer,e,t.Lyrics),"LyricsRenderer")})}SetSong(t){this.Song!==t&&(this.Song=t,this.ReactToSongChange())}Close(){if(void 0!==we)return c.push(we);c.push("/")}Destroy(){this.Maid.Destroy()}},P=a.Give(new C),Qe="aside .main-nowPlayingView-nowPlayingWidget",Ke="aside .main-nowPlayingView-section:not(:is(#BeautifulLyrics-CardView)):has(.main-nowPlayingView-lyricsTitle)",t0=`
<svg class="Svg-sc-ytk21e-0 Svg-img-16-icon LyricsPageIcon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">
	<g>
		<path d="M11.22 23.92 c0 -0.01 -0.02 -0.03 -0.05 -0.04 -0.03 -0.01 -0.07 -0.06 -0.09 -0.15 -0.03 -0.08 -0.06 -0.15 -0.07 -0.16 -0.01 -0.01 -0.03 -0.12 -0.05 -0.25 -0.02 -0.13 -0.04 -0.25 -0.06 -0.27 -0.01 -0.02 -0.02 -0.04 -0.01 -0.04 0.01 -0.01 0 -0.06 -0.02 -0.10 -0.02 -0.05 -0.05 -0.13 -0.06 -0.18 -0.01 -0.06 -0.03 -0.10 -0.04 -0.10 -0.01 0 -0.03 -0.05 -0.05 -0.11 -0.02 -0.06 -0.05 -0.11 -0.06 -0.11 -0.02 0 -0.02 -0.01 -0.01 -0.02 0.02 -0.02 0 -0.04 -0.16 -0.22 -0.06 -0.07 -0.15 -0.14 -0.19 -0.16 -0.04 -0.02 -0.08 -0.04 -0.08 -0.05 0 -0.01 -0.05 -0.03 -0.11 -0.05 -0.06 -0.02 -0.11 -0.04 -0.11 -0.05 0 -0.02 -0.16 -0.07 -0.29 -0.09 -0.06 -0.01 -0.10 -0.03 -0.10 -0.04 0 -0.01 -0.08 -0.03 -0.18 -0.05 -0.10 -0.02 -0.19 -0.04 -0.21 -0.06 -0.01 -0.01 -0.10 -0.04 -0.19 -0.07 -0.09 -0.03 -0.17 -0.06 -0.17 -0.06 0 -0.01 -0.04 -0.03 -0.09 -0.05 -0.05 -0.02 -0.12 -0.06 -0.17 -0.10 -0.08 -0.06 -0.08 -0.08 -0.08 -0.21 0 -0.12 0.01 -0.15 0.07 -0.19 0.04 -0.03 0.08 -0.06 0.08 -0.07 0.01 -0.01 0.10 -0.03 0.21 -0.05 0.11 -0.02 0.20 -0.04 0.21 -0.05 0.01 -0.01 0.18 -0.04 0.39 -0.07 0.21 -0.02 0.39 -0.05 0.39 -0.07 0.01 -0.01 0.06 -0.03 0.12 -0.04 0.17 -0.03 0.35 -0.19 0.45 -0.37 0.03 -0.06 0.06 -0.11 0.07 -0.11 0.02 -0.01 0.11 -0.19 0.10 -0.22 -0 -0.01 0.01 -0.02 0.02 -0.02 0.01 0 0.04 -0.06 0.06 -0.13 0.02 -0.07 0.04 -0.13 0.06 -0.13 0.01 0 0.03 -0.06 0.05 -0.12 0.02 -0.07 0.04 -0.14 0.06 -0.16 0.02 -0.02 0.02 -0.04 0.01 -0.06 -0.01 -0.01 -0.01 -0.03 0.01 -0.03 0.01 -0 0.04 -0.10 0.06 -0.22 0.02 -0.12 0.04 -0.22 0.05 -0.22 0.01 -0.01 0.03 -0.08 0.06 -0.16 0.06 -0.18 0.14 -0.27 0.25 -0.25 0.05 0.01 0.10 0.03 0.12 0.06 0.02 0.03 0.04 0.06 0.04 0.07 0.01 0.01 0.03 0.08 0.05 0.15 0.02 0.07 0.04 0.14 0.06 0.14 0.01 0 0.01 0.03 0 0.07 -0.01 0.04 0 0.07 0.02 0.07 0.02 0 0.04 0.08 0.06 0.18 0.02 0.10 0.04 0.18 0.06 0.18 0.01 0 0.02 0.02 0.02 0.06 0 0.07 0.08 0.35 0.11 0.37 0.01 0.01 0.04 0.06 0.06 0.11 0.02 0.05 0.06 0.13 0.09 0.17 0.06 0.09 0.42 0.46 0.45 0.46 0.01 0 0.06 0.03 0.11 0.07 0.05 0.04 0.13 0.07 0.18 0.08 0.05 0.01 0.09 0.02 0.09 0.03 0 0.03 0.34 0.11 0.44 0.11 0.04 0 0.08 0.01 0.08 0.03 0 0.02 0.03 0.03 0.07 0.03 0.11 0 0.40 0.06 0.40 0.08 0 0.01 0.05 0.03 0.11 0.05 0.19 0.06 0.22 0.25 0.08 0.39 -0.08 0.08 -0.31 0.20 -0.43 0.22 -0.05 0.01 -0.13 0.04 -0.19 0.07 -0.06 0.03 -0.17 0.06 -0.24 0.07 -0.08 0.01 -0.14 0.03 -0.14 0.04 0 0.01 -0.04 0.03 -0.10 0.04 -0.11 0.02 -0.28 0.07 -0.30 0.09 -0.01 0.01 -0.06 0.03 -0.12 0.05 -0.06 0.02 -0.11 0.04 -0.11 0.05 0 0.01 -0.05 0.03 -0.11 0.05 -0.12 0.04 -0.37 0.25 -0.33 0.28 0.03 0.02 0.04 0.11 0.02 0.11 -0.01 0 -0.03 0.04 -0.05 0.09 -0.02 0.05 -0.04 0.09 -0.06 0.09 -0.02 0 -0.02 0.01 -0.01 0.03 0.01 0.02 0.01 0.03 -0.01 0.03 -0.02 0 -0.04 0.08 -0.06 0.17 -0.02 0.09 -0.04 0.17 -0.05 0.17 -0.01 0 -0.03 0.11 -0.05 0.24 -0.02 0.13 -0.04 0.24 -0.06 0.24 -0.01 0 -0.02 0.03 -0.01 0.07 0.01 0.04 0.01 0.07 -0 0.07 -0.01 0 -0.03 0.05 -0.05 0.11 -0.04 0.14 -0.14 0.23 -0.24 0.23 -0.04 0 -0.08 -0.01 -0.08 -0.02z"/>
		<path d="M19.22 20.43 c0 -0.01 -0.03 -0.03 -0.06 -0.04 -0.07 -0.02 -0.23 -0.17 -0.23 -0.21 0 -0.02 -0.02 -0.05 -0.04 -0.07 -0.04 -0.04 -0.12 -0.40 -0.12 -0.54 0 -0.05 -0.01 -0.09 -0.03 -0.09 -0.02 0 -0.03 -0.09 -0.03 -0.20 0 -0.21 -0.04 -0.40 -0.08 -0.40 -0.01 0 -0.04 -0.04 -0.07 -0.10 -0.03 -0.06 -0.06 -0.11 -0.07 -0.12 -0.01 -0.01 -0.03 -0.16 -0.05 -0.33 -0.02 -0.17 -0.04 -0.32 -0.05 -0.34 -0.01 -0.01 -0.02 -0.04 -0.01 -0.06 0.01 -0.02 0 -0.04 -0.01 -0.04 -0.02 0 -0.04 -0.05 -0.06 -0.11 -0.02 -0.06 -0.04 -0.11 -0.06 -0.11 -0.01 0 -0.02 -0.02 -0.02 -0.04 0 -0.02 -0.03 -0.06 -0.06 -0.08 -0.03 -0.02 -0.05 -0.04 -0.03 -0.04 0.05 0 -0.24 -0.27 -0.40 -0.37 -0.09 -0.06 -0.17 -0.12 -0.17 -0.13 0 -0.01 -0.02 -0.02 -0.03 -0.02 -0.02 0 -0.10 -0.03 -0.18 -0.08 -0.08 -0.04 -0.19 -0.08 -0.24 -0.09 -0.04 -0.01 -0.10 -0.03 -0.12 -0.05 -0.02 -0.02 -0.11 -0.05 -0.21 -0.07 -0.10 -0.02 -0.19 -0.04 -0.21 -0.06 -0.01 -0.01 -0.14 -0.03 -0.28 -0.05 -0.14 -0.02 -0.27 -0.04 -0.30 -0.05 -0.03 -0.01 -0.13 -0.03 -0.22 -0.04 -0.24 -0.02 -0.50 -0.07 -0.50 -0.09 0 -0.01 -0.05 -0.03 -0.11 -0.05 -0.11 -0.03 -0.26 -0.13 -0.26 -0.18 0 -0.02 -0.02 -0.03 -0.04 -0.04 -0.06 -0.02 -0.10 -0.20 -0.08 -0.34 0.02 -0.13 0.14 -0.30 0.21 -0.30 0.02 0 0.05 -0.02 0.07 -0.04 0.03 -0.03 0.14 -0.05 0.38 -0.07 0.19 -0.01 0.34 -0.04 0.35 -0.05 0.01 -0.02 0.03 -0.03 0.07 -0.03 0.08 0 0.41 -0.08 0.50 -0.12 0.04 -0.02 0.12 -0.04 0.18 -0.05 0.05 -0.01 0.10 -0.03 0.10 -0.04 0 -0.01 0.07 -0.03 0.16 -0.05 0.09 -0.02 0.17 -0.05 0.19 -0.06 0.02 -0.02 0.08 -0.05 0.15 -0.07 0.07 -0.02 0.14 -0.05 0.17 -0.07 0.03 -0.02 0.10 -0.05 0.17 -0.07 0.06 -0.02 0.11 -0.04 0.11 -0.05 0 -0.01 0.05 -0.03 0.11 -0.05 0.06 -0.02 0.11 -0.05 0.12 -0.07 0.01 -0.02 0.05 -0.05 0.09 -0.06 0.04 -0.02 0.08 -0.05 0.08 -0.07 0 -0.02 0.01 -0.04 0.03 -0.04 0.01 0 0.04 -0.05 0.06 -0.11 0.02 -0.06 0.04 -0.13 0.06 -0.14 0.02 -0.02 0.04 -0.10 0.06 -0.18 0.02 -0.08 0.04 -0.15 0.06 -0.15 0.01 0 0.04 -0.06 0.05 -0.14 0.02 -0.08 0.04 -0.16 0.06 -0.17 0.02 -0.02 0.02 -0.05 0.01 -0.07 -0.01 -0.02 -0.01 -0.04 0.01 -0.04 0.01 0 0.04 -0.07 0.06 -0.16 0.02 -0.09 0.04 -0.16 0.05 -0.16 0.01 0 0.04 -0.11 0.07 -0.25 0.03 -0.14 0.06 -0.25 0.07 -0.25 0.01 0 0.03 -0.09 0.05 -0.19 0.02 -0.11 0.04 -0.21 0.06 -0.22 0.01 -0.02 0.02 -0.05 0.01 -0.07 -0.01 -0.02 -0 -0.04 0.01 -0.04 0.02 0 0.03 -0.03 0.03 -0.07 0 -0.10 0.05 -0.27 0.08 -0.27 0.02 0 0.03 -0.02 0.03 -0.04 0 -0.02 0.02 -0.07 0.05 -0.10 0.03 -0.04 0.04 -0.07 0.03 -0.08 -0.01 -0.01 -0 -0.02 0.01 -0.02 0.02 0 0.05 -0.02 0.08 -0.05 0.06 -0.07 0.26 -0.12 0.38 -0.10 0.10 0.02 0.20 0.07 0.20 0.10 0 0.01 0.02 0.04 0.05 0.07 0.03 0.03 0.06 0.09 0.07 0.14 0.01 0.05 0.03 0.09 0.04 0.09 0.01 0 0.02 0.08 0.02 0.18 0 0.21 0.07 0.79 0.10 0.83 0.01 0.02 0.03 0.12 0.05 0.22 0.02 0.10 0.04 0.19 0.05 0.19 0.01 0 0.03 0.07 0.05 0.17 0.02 0.09 0.06 0.21 0.08 0.27 0.03 0.06 0.06 0.14 0.07 0.19 0.01 0.04 0.03 0.08 0.04 0.08 0.02 0 0.02 0.01 0.01 0.02 -0.02 0.03 0.09 0.25 0.13 0.28 0.02 0.01 0.03 0.04 0.03 0.06 0 0.02 0.08 0.11 0.18 0.20 0.18 0.18 0.53 0.37 0.80 0.45 0.07 0.02 0.12 0.04 0.12 0.05 0 0.01 0.11 0.04 0.24 0.07 0.13 0.03 0.24 0.06 0.24 0.07 0 0.01 0.08 0.03 0.18 0.05 0.10 0.02 0.18 0.04 0.19 0.05 0.01 0.01 0.13 0.04 0.26 0.07 0.14 0.02 0.26 0.05 0.28 0.07 0.02 0.01 0.12 0.03 0.22 0.05 0.11 0.02 0.21 0.04 0.22 0.05 0.02 0.01 0.08 0.03 0.16 0.05 0.13 0.03 0.30 0.17 0.30 0.24 0 0.02 0.01 0.03 0.03 0.03 0.02 0 0.03 0.06 0.03 0.13 0 0.07 -0.01 0.13 -0.02 0.13 -0.01 0 -0.03 0.03 -0.04 0.06 -0.02 0.08 -0.18 0.24 -0.26 0.27 -0.03 0.01 -0.11 0.04 -0.17 0.07 -0.09 0.04 -0.22 0.06 -0.58 0.08 -0.25 0.02 -0.47 0.03 -0.48 0.04 -0.01 0.01 -0.10 0.03 -0.21 0.05 -0.11 0.02 -0.20 0.04 -0.21 0.06 -0.01 0.01 -0.09 0.04 -0.19 0.07 -0.10 0.03 -0.18 0.06 -0.18 0.06 0 0.01 -0.05 0.03 -0.12 0.05 -0.07 0.02 -0.12 0.04 -0.12 0.06 0 0.01 -0.06 0.04 -0.13 0.07 -0.07 0.03 -0.13 0.06 -0.13 0.07 0 0.01 -0.03 0.03 -0.06 0.04 -0.03 0.01 -0.10 0.05 -0.14 0.08 -0.04 0.03 -0.09 0.06 -0.11 0.06 -0.02 0 -0.04 0.02 -0.06 0.05 -0.02 0.03 -0.04 0.05 -0.06 0.05 -0.04 0 -0.16 0.13 -0.19 0.21 -0.01 0.03 -0.03 0.06 -0.04 0.06 -0.01 0 -0.03 0.04 -0.04 0.09 -0.01 0.04 -0.03 0.11 -0.06 0.14 -0.02 0.03 -0.03 0.07 -0.02 0.08 0.01 0.02 0.01 0.03 -0.01 0.03 -0.02 0 -0.03 0.04 -0.04 0.10 -0.01 0.05 -0.03 0.13 -0.05 0.18 -0.04 0.10 -0.12 0.40 -0.12 0.48 0 0.03 -0.01 0.06 -0.02 0.06 -0.01 0 -0.04 0.09 -0.06 0.21 -0.02 0.11 -0.04 0.22 -0.06 0.23 -0.01 0.02 -0.02 0.05 -0.01 0.07 0.01 0.02 0.01 0.04 -0.01 0.04 -0.02 0 -0.08 0.41 -0.08 0.56 0 0.05 -0.01 0.09 -0.02 0.09 -0.01 0 -0.03 0.06 -0.04 0.12 -0.01 0.07 -0.04 0.14 -0.06 0.17 -0.02 0.03 -0.03 0.05 -0.02 0.05 0.01 0 -0.02 0.02 -0.06 0.05 -0.05 0.03 -0.10 0.05 -0.12 0.05 -0.02 0 -0.04 0.01 -0.04 0.03 0 0.02 -0.06 0.03 -0.13 0.03 -0.07 0 -0.13 -0.01 -0.13 -0.02z"/>
		<path d="M5.69 18.57 c-1.37 -0.14 -2.43 -1.12 -2.66 -2.44 -0.06 -0.35 -0.04 -0.89 0.05 -1.24 0.08 -0.30 0.27 -0.72 0.45 -0.96 0.07 -0.09 1.61 -1.86 3.43 -3.93 l3.30 -3.76 0.04 -0.28 c0.23 -1.39 1.14 -2.63 2.42 -3.29 0.35 -0.18 0.88 -0.37 1.27 -0.44 0.37 -0.07 1.29 -0.07 1.63 -0 0.73 0.14 1.37 0.42 1.93 0.85 2.02 1.52 2.43 4.38 0.90 6.41 -0.67 0.89 -1.69 1.52 -2.76 1.72 -0.16 0.03 -0.31 0.06 -0.34 0.07 -0.03 0.01 -1.75 1.50 -3.82 3.33 -2.07 1.82 -3.82 3.35 -3.89 3.40 -0.29 0.22 -0.72 0.40 -1.10 0.49 -0.23 0.05 -0.67 0.08 -0.85 0.06z m0.56 -1.60 c0.17 -0.04 0.36 -0.13 0.49 -0.23 0.04 -0.03 1.66 -1.45 3.60 -3.15 l3.51 -3.09 -1.39 -1.39 c-0.76 -0.76 -1.40 -1.39 -1.41 -1.39 -0.01 0 -1.17 1.31 -2.58 2.91 -3.75 4.27 -3.70 4.21 -3.76 4.32 -0.29 0.57 -0.20 1.21 0.23 1.63 0.35 0.34 0.83 0.48 1.30 0.37z m9.21 -7.28 c0.49 -0.09 1.08 -0.41 1.47 -0.80 1.06 -1.05 1.19 -2.74 0.32 -3.92 -0.17 -0.22 -0.52 -0.57 -0.73 -0.71 -1.52 -1.03 -3.60 -0.48 -4.40 1.16 -0.13 0.27 -0.26 0.67 -0.26 0.80 0 0.06 0.31 0.38 1.71 1.78 1.09 1.09 1.73 1.71 1.76 1.71 0.02 -0.01 0.08 -0.02 0.13 -0.03z"/>
		<path d="M3.83 8.12 c-0.09 -0.08 -0.19 -0.29 -0.23 -0.52 -0.02 -0.10 -0.04 -0.19 -0.05 -0.19 -0.01 0 -0.01 -0.04 -0.01 -0.09 0.01 -0.05 0 -0.10 -0.01 -0.11 -0.01 -0.01 -0.04 -0.13 -0.06 -0.28 -0.02 -0.14 -0.04 -0.27 -0.06 -0.28 -0.01 -0.01 -0.02 -0.04 -0.01 -0.06 0.01 -0.02 0 -0.05 -0.01 -0.07 -0.01 -0.02 -0.03 -0.08 -0.04 -0.14 -0.01 -0.06 -0.03 -0.13 -0.05 -0.14 -0.02 -0.02 -0.05 -0.07 -0.07 -0.12 -0.02 -0.05 -0.05 -0.10 -0.07 -0.11 -0.02 -0.01 -0.03 -0.03 -0.03 -0.05 0 -0.02 -0.05 -0.08 -0.11 -0.13 -0.06 -0.06 -0.13 -0.12 -0.15 -0.14 -0.02 -0.02 -0.08 -0.05 -0.14 -0.07 -0.06 -0.02 -0.10 -0.04 -0.10 -0.05 0 -0.01 -0.05 -0.03 -0.11 -0.05 -0.06 -0.02 -0.15 -0.05 -0.19 -0.07 -0.04 -0.02 -0.15 -0.05 -0.24 -0.07 -0.09 -0.02 -0.16 -0.04 -0.17 -0.05 -0.01 -0.01 -0.09 -0.03 -0.20 -0.05 -0.10 -0.02 -0.20 -0.04 -0.21 -0.06 -0.02 -0.01 -0.11 -0.03 -0.21 -0.05 -0.10 -0.02 -0.23 -0.05 -0.29 -0.08 -0.06 -0.03 -0.14 -0.06 -0.19 -0.07 -0.12 -0.02 -0.27 -0.17 -0.27 -0.26 0 -0.04 -0.02 -0.07 -0.03 -0.08 -0.03 -0.01 -0.03 -0.02 0 -0.02 0.02 -0 0.03 -0.02 0.03 -0.05 0 -0.08 0.08 -0.22 0.12 -0.22 0.02 0 0.04 -0.01 0.04 -0.02 0 -0.03 0.16 -0.08 0.31 -0.10 0.07 -0.01 0.13 -0.02 0.13 -0.03 0 -0.01 0.12 -0.04 0.28 -0.07 0.15 -0.03 0.28 -0.06 0.28 -0.06 0 -0.01 0.11 -0.03 0.24 -0.05 0.13 -0.02 0.24 -0.04 0.24 -0.05 0 -0.01 0.09 -0.03 0.20 -0.05 0.19 -0.03 0.26 -0.05 0.40 -0.14 0.07 -0.04 0.29 -0.25 0.29 -0.28 0 -0.01 0.02 -0.05 0.05 -0.09 0.03 -0.04 0.04 -0.08 0.03 -0.09 -0.01 -0.01 -0 -0.02 0.01 -0.02 0.02 0 0.04 -0.05 0.06 -0.11 0.02 -0.06 0.05 -0.13 0.07 -0.14 0.02 -0.02 0.03 -0.07 0.03 -0.11 0 -0.04 0.02 -0.11 0.04 -0.15 0.02 -0.04 0.04 -0.09 0.04 -0.11 -0 -0.02 0 -0.05 0.01 -0.07 0.02 -0.06 0.07 -0.38 0.07 -0.47 0 -0.05 0.01 -0.08 0.03 -0.08 0.02 0 0.03 -0.04 0.02 -0.11 -0.01 -0.06 -0 -0.11 0.01 -0.11 0.01 0 0.03 -0.09 0.05 -0.20 0.02 -0.11 0.04 -0.20 0.05 -0.20 0.01 0 0.03 -0.04 0.05 -0.10 0.04 -0.10 0.16 -0.24 0.21 -0.24 0.02 0 0.03 -0.01 0.03 -0.03 0 -0.04 0.18 -0.03 0.23 0.01 0.12 0.10 0.20 0.18 0.18 0.18 -0.01 0 0 0.03 0.02 0.06 0.02 0.03 0.05 0.10 0.06 0.16 0.01 0.05 0.03 0.10 0.04 0.10 0.01 0 0.02 0.02 0.01 0.04 -0.01 0.02 -0.01 0.06 0.01 0.07 0.02 0.02 0.04 0.14 0.06 0.26 0.02 0.13 0.04 0.23 0.05 0.23 0.01 0 0.03 0.11 0.05 0.24 0.02 0.13 0.04 0.24 0.05 0.24 0.01 0 0.02 0.03 0.01 0.07 -0.01 0.04 0 0.07 0.02 0.07 0.02 0 0.03 0.05 0.04 0.11 0.01 0.06 0.03 0.12 0.05 0.14 0.02 0.02 0.05 0.08 0.08 0.14 0.05 0.13 0.06 0.14 0.24 0.34 0.07 0.08 0.14 0.14 0.16 0.14 0.02 0 0.04 0.02 0.06 0.03 0.03 0.04 0.29 0.17 0.43 0.21 0.07 0.02 0.13 0.04 0.14 0.05 0.02 0.01 0.11 0.03 0.21 0.05 0.10 0.02 0.21 0.04 0.24 0.06 0.03 0.01 0.18 0.04 0.33 0.07 0.15 0.02 0.29 0.05 0.30 0.06 0.02 0.01 0.08 0.04 0.15 0.05 0.13 0.04 0.27 0.14 0.29 0.23 0.01 0.03 0.03 0.06 0.04 0.06 0.01 0 0.02 0.08 0.02 0.17 0 0.10 -0.01 0.17 -0.03 0.17 -0.01 0 -0.03 0.02 -0.03 0.04 0 0.02 -0.03 0.06 -0.07 0.07 -0.04 0.02 -0.08 0.04 -0.09 0.05 -0.01 0.01 -0.11 0.04 -0.24 0.06 -0.12 0.03 -0.23 0.06 -0.25 0.07 -0.01 0.01 -0.13 0.03 -0.26 0.05 -0.13 0.02 -0.24 0.04 -0.25 0.05 -0.01 0.01 -0.11 0.03 -0.22 0.05 -0.12 0.02 -0.24 0.05 -0.29 0.07 -0.04 0.02 -0.13 0.05 -0.18 0.07 -0.06 0.02 -0.11 0.04 -0.12 0.05 -0.01 0.01 -0.04 0.03 -0.08 0.06 -0.10 0.06 -0.34 0.29 -0.39 0.38 -0.02 0.04 -0.05 0.09 -0.07 0.11 -0.02 0.02 -0.05 0.08 -0.07 0.15 -0.02 0.07 -0.04 0.12 -0.05 0.12 -0.01 0 -0.03 0.07 -0.05 0.16 -0.02 0.09 -0.04 0.16 -0.06 0.16 -0.01 0 -0.02 0.03 -0.01 0.07 0.01 0.04 0.01 0.07 -0.01 0.07 -0.01 0 -0.03 0.09 -0.05 0.21 -0.02 0.11 -0.04 0.22 -0.05 0.23 -0.01 0.02 -0.03 0.11 -0.05 0.21 -0.02 0.10 -0.04 0.20 -0.06 0.22 -0.02 0.02 -0.02 0.05 -0.01 0.07 0.01 0.02 0 0.04 -0.01 0.04 -0.01 0 -0.03 0.05 -0.04 0.11 -0.01 0.06 -0.05 0.14 -0.10 0.20 -0.08 0.08 -0.09 0.09 -0.26 0.09 -0.14 0 -0.19 -0.01 -0.25 -0.06z"/>
	</g>
</svg>`.trim(),e0=()=>{let e;const i=new ot.Button("Lyrics Page",t0,()=>{if(void 0===e)return c.push("/BeautifulLyrics/Main");e.Close()},!1,!1);P.Give(()=>i.deregister());let s;const r=new T,n=(()=>{const e=e=>{e.GetDetails().then(t=>{void 0===t||void 0===t.Lyrics||void 0===s||P.Has("CardView")||P.Give(new Ze(e,t.Lyrics,s),"CardView")})};var t=()=>{var t;c.location.pathname.startsWith("/BeautifulLyrics")?P.Clean("CardView"):void 0!==(t=p.GetSong())&&e(t)};return r.Connect(t),t})(),a=()=>{void 0!==e&&e.SetSong(p.GetSong())};var t=t=>{P.Clean("CardView"),n(),a()};p.SongChanged.Connect(t),t(p.GetSong());let o;const l=t=>{n(),P.Clean("PageView"),"/BeautifulLyrics/Main"===t.pathname?(i.active=!0,e=P.Give(new Je(o),"PageView"),a()):"/BeautifulLyrics/Cinema"===t.pathname?(i.active=!0,e=P.Give(new Je(o,!0),"PageView"),a()):(i.active=!1,e=void 0)};P.Give(new MutationObserver(()=>{var t,e;e=document.querySelector(Qe)||void 0,t=document.querySelector(Ke)||void 0,e!==s&&(s=e,r.Fire()),void 0!==t&&(t.style.display="none"),void 0===o&&null!==(e=document.querySelector(".main-view-container .os-content"))&&(o=e,P.Give(c.listen(l)),l(c.location))})).observe(document.body,{childList:!0,subtree:!0})};{const D=new Map,r0=(D.set("Page",".BeautifulLyricsPage"),D.set("VanillaSideCard","aside:has(.main-nowPlayingView-section) .os-padding"),["lyrics-background-color","lyrics-background-back","lyrics-background-back-center"]),n0=a.Give(new C,"LiveBackgrounds"),I=new Map;Le=()=>{for(var[t,e]of D){e=document.body.querySelector(e);I.get(t)!==e&&(null===e?(I.delete(t),n0.Clean(t)):(I.set(t,e),((t,e)=>{var i=n0.Give(new C,t),s=i.Give(document.createElement("div"));s.classList.add("lyrics-background-container");const r=[];for(const a of r0){var n=i.Give(document.createElement("img"));n.classList.add(a),s.appendChild(n),r.push(n)}t=()=>{var t=Vt()?.Default??"";for(const e of r)e.src=t},i.Give(Ot.Connect(t)),t(),t=()=>{e.classList.contains("lyrics-background")||e.classList.add("lyrics-background")};t(),i.Give(new MutationObserver(t)).observe(e,{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1}),e.prepend(s),i.Give(()=>e.classList.remove("lyrics-background"))})(t,e)))}}}var i0=async function(){await new Promise(t=>{nt?t():ct.Connect(t)}),!1===st&&Pt(),a.Give(p.SongChanged.Connect(At)),At(p.GetSong()),p.Start(),e0(),a.Give(new MutationObserver(()=>{Le()})).observe(document.body,{attributes:!1,childList:!0,subtree:!0}),Le();{const s=()=>{a.Clean("Analytics");var t=o.GetItem("Analytics"),e=t.LastVisitedAt,e=void 0!==e?new Date(e):void 0,i=new Date,i=(i.setHours(0,0,0,0),i.getTime());e?.getTime()!==i&&(t.LastVisitedAt=i,o.SaveItemChanges("Analytics"),(e=a.Give(document.createElement("iframe"),"Analytics")).src="https://track.beautiful-lyrics.socalifornian.live/",e.style.display="none",document.body.appendChild(e)),n(60,s)};s()}};(async()=>{await i0()})()})();(async()=>{var t;document.getElementById("beautifulDlyrics")||((t=document.createElement("style")).id="beautifulDlyrics",t.textContent=String.raw`
  [data-simplebar]{position:relative;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;align-items:flex-start}.simplebar-wrapper{overflow:hidden;width:inherit;height:inherit;max-width:inherit;max-height:inherit}.simplebar-mask{direction:inherit;position:absolute;overflow:hidden;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:auto!important;height:auto!important;z-index:0}.simplebar-offset{direction:inherit!important;box-sizing:inherit!important;resize:none!important;position:absolute;top:0;left:0;bottom:0;right:0;padding:0;margin:0;-webkit-overflow-scrolling:touch}.simplebar-content-wrapper{direction:inherit;box-sizing:border-box!important;position:relative;display:block;height:100%;width:auto;max-width:100%;max-height:100%;overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.simplebar-content-wrapper::-webkit-scrollbar,.simplebar-hide-scrollbar::-webkit-scrollbar{display:none;width:0;height:0}.simplebar-content:after,.simplebar-content:before{content:" ";display:table}.simplebar-placeholder{max-height:100%;max-width:100%;width:100%;pointer-events:none}.simplebar-height-auto-observer-wrapper{box-sizing:inherit!important;height:100%;width:100%;max-width:1px;position:relative;float:left;max-height:1px;overflow:hidden;z-index:-1;padding:0;margin:0;pointer-events:none;flex-grow:inherit;flex-shrink:0;flex-basis:0}.simplebar-height-auto-observer{box-sizing:inherit;display:block;opacity:0;position:absolute;top:0;left:0;height:1000%;width:1000%;min-height:1px;min-width:1px;overflow:hidden;pointer-events:none;z-index:-1}.simplebar-track{z-index:1;position:absolute;right:0;bottom:0;pointer-events:none;overflow:hidden}[data-simplebar].simplebar-dragging{pointer-events:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}[data-simplebar].simplebar-dragging .simplebar-content{pointer-events:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}[data-simplebar].simplebar-dragging .simplebar-track{pointer-events:all}.simplebar-scrollbar{position:absolute;left:0;right:0;min-height:10px}.simplebar-scrollbar:before{position:absolute;content:"";background:#000;border-radius:7px;left:2px;right:2px;opacity:0;transition:opacity .2s .5s linear}.simplebar-scrollbar.simplebar-visible:before{opacity:.5;transition-delay:0s;transition-duration:0s}.simplebar-track.simplebar-vertical{top:0;width:11px}.simplebar-scrollbar:before{top:2px;bottom:2px;left:2px;right:2px}.simplebar-track.simplebar-horizontal{left:0;height:11px}.simplebar-track.simplebar-horizontal .simplebar-scrollbar{right:auto;left:0;top:0;bottom:0;min-height:0;min-width:10px;width:auto}[data-simplebar-direction=rtl] .simplebar-track.simplebar-vertical{right:auto;left:0}.simplebar-dummy-scrollbar-size{direction:rtl;position:fixed;opacity:0;visibility:hidden;height:500px;width:500px;overflow-y:hidden;overflow-x:scroll;-ms-overflow-style:scrollbar!important}.simplebar-dummy-scrollbar-size>div{width:200%;height:200%;margin:10px 0}.simplebar-hide-scrollbar{position:fixed;left:0;visibility:hidden;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.RootContainer{display:block;width:100cqw;z-index:100;container-type:size}.LyricsScrollContainer{display:inline-block;position:relative;width:100cqw;height:100cqh;overflow:auto;container-type:size}.simplebar-scrollbar::before{background:#fff!important;opacity:0!important}[data-simplebar]:not(.simplebar-dragging) .simplebar-content-wrapper{scroll-behavior:smooth}[data-simplebar]:not(.simplebar-dragging).InstantScroll .simplebar-content-wrapper{scroll-behavior:auto}.LyricsScrollContainer:hover .simplebar-scrollbar::before{opacity:.5!important}.Lyrics{display:flex;flex-direction:column;width:100cqw;height:0;container-type:size;--vocal-idle-opacity:0.51;--vocal-active-opacity:1;--vocal-sung-opacity:0.497;--background-idle-opacity:calc(var(--vocal-idle-opacity) * 0.53921568627);--background-active-opacity:calc(var(--vocal-active-opacity) * 0.8);--background-sung-opacity:calc(var(--vocal-sung-opacity) * 0.6690140845);--vocal-lyrics-scale:7;--maximum-lyrics-size:3.5rem;--minimum-lyrics-size:1.85rem}.VocalsGroup{margin:0;padding:0;border:0;display:flex;flex-direction:column;background-color:transparent;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.1818181818;letter-spacing:0;transition:color .1s,transform .1s ease-in-out,padding .1s ease-in-out;font-family:-apple-system,BlinkMacSystemFont,"Apple Color Emoji","SF Pro","SF Pro Icons","Helvetica Neue",Helvetica,Arial,sans-serif;unicode-bidi:isolate;margin-top:1cqw;margin-bottom:1cqw}.VocalsGroup:is(button){cursor:pointer}.VocalsGroup:is(button).AlignedOpposite{align-items:flex-end}.NaturallyAlignedLeft .VocalsGroup{direction:ltr;text-align:left}.NaturallyAlignedRight .VocalsGroup{direction:rtl;text-align:right}.Interlude{display:none;--dot-gap:clamp(0.3rem, 1.7cqw, 0.8rem);grid-template-columns:repeat(3,calc(var(--dot-gap) * 1.75));justify-content:start;-moz-column-gap:var(--dot-gap);column-gap:var(--dot-gap);margin-top:1cqw;margin-bottom:1cqw;margin-left:calc(var(--dot-gap) * 1.1);transform:scale(1);transform-origin:center center}.Interlude.Active{display:grid}.InterludeDot{display:inline-block;--dot-size:calc(2 * var(--dot-gap));width:var(--dot-size);height:var(--dot-size);border-radius:100rem;background-color:rgba(255,255,255,.85);box-shadow:0 0 var(--text-shadow-blur-radius) rgba(255,255,255,var(--text-shadow-opacity))}.Vocals{display:flex;transition:opacity .25s cubic-bezier(.61, 1, .88, 1);flex-wrap:wrap;--lyrics-size:clamp(var(--minimum-lyrics-size), calc(1cqw * var(--vocal-lyrics-scale)), var(--maximum-lyrics-size))}.Lyrics .Vocals{width:95cqw}.Lyrics:has(.AlignedOpposite) .Vocals{width:75cqw}.NaturallyAlignedLeft .VocalsGroup.AlignedOpposite .Vocals{justify-content:flex-end}.NaturallyAlignedRight .VocalsGroup.AlignedOpposite .Vocals{justify-content:flex-start}.Vocals.Lead{opacity:var(--vocal-idle-opacity);font-size:var(--lyrics-size);font-weight:700}.Vocals.Lead.Sung{opacity:var(--vocal-sung-opacity)}.Vocals.Lead.Active{opacity:var(--vocal-active-opacity)}.VocalsGroup:is(button):hover .Vocals.Lead{--text-blur:0!important;opacity:var(--vocal-active-opacity)}.Vocals.Background{opacity:var(--background-idle-opacity);--font-size:calc(var(--lyrics-size) * 0.75);font-size:var(--font-size);font-weight:500;margin-top:calc(var(--font-size) * -.05)}.Vocals.Background.Sung{opacity:var(--background-sung-opacity)}.Vocals.Background.Active{opacity:var(--background-active-opacity)}.VocalsGroup:is(button):hover .Vocals.Background{opacity:var(--background-active-opacity)}.NaturallyAlignedLeft .VocalsGroup.AlignedOpposite .Lyric{text-align:right}.NaturallyAlignedRight .VocalsGroup.AlignedOpposite .Lyric{text-align:left}.Static{display:flex;position:relative;white-space:pre-wrap;margin:-.5px -.75px -.5px -.75px;padding:.5px .75px .5px .75px;background-color:#fff;background-clip:text;-webkit-text-fill-color:transparent;-webkit-background-clip:text}.Synced{--gradient-angle:90deg;--gradient-color:255;--gradient-color-alpha:0.5;--gradient-color-alpha-active:0.85;--gradient-offset:0%;position:relative;margin:-.5px -.75px -.5px -.75px;padding:.5px .75px .5px .75px;text-shadow:0 0 var(--text-blur,0) rgba(var(--gradient-color),var(--gradient-color),var(--gradient-color),var(--gradient-color-alpha));background-clip:text;-webkit-text-fill-color:transparent;-webkit-background-clip:text}.Vocals.Active .Synced{background-image:linear-gradient(var(--gradient-angle),rgba(var(--gradient-color),var(--gradient-color),var(--gradient-color),var(--gradient-color-alpha-active)) var(--gradient-progress),rgba(var(--gradient-color),var(--gradient-color),var(--gradient-color),var(--gradient-color-alpha)) calc(var(--gradient-progress) + 20% + var(--gradient-offset)));text-shadow:0 0 var(--text-shadow-blur-radius) rgba(255,255,255,var(--text-shadow-opacity))}.Vocals.Sung .Synced{text-shadow:0 0 var(--text-blur,0) rgba(var(--gradient-color),var(--gradient-color),var(--gradient-color),var(--gradient-color-alpha-active))}.LyricsScrollContainer.UserScrolling .Vocals:not(:is(.Active)) .Synced{--text-blur:0!important}.Line{--gradient-angle:180deg;--gradient-offset:-20%;--gradient-color-alpha:0.4;display:flex;white-space:pre-wrap}.Vocals.Lead .Line{transition:background-color .3s cubic-bezier(.61, 1, .88, 1);transition:scale .1s cubic-bezier(.37, 0, .63, 1)}.Vocals.Lead.Active .Line{--gradient-offset:0%;scale:1.05}.NaturallyAlignedLeft .Line{transform-origin:left center}.NaturallyAlignedLeft .VocalsGroup.AlignedOpposite .Line{transform-origin:right center}.NaturallyAlignedRight .Line{transform-origin:right center}.NaturallyAlignedRight .VocalsGroup.AlignedOpposite .Line{transform-origin:left center}.Syllable,.Word{display:flex;white-space:nowrap}.Syllable:not(.Emphasis){white-space:pre}.Syllable.PartOfWord.StartOfWord{transform-origin:right center}.Syllable.EndOfWord{transform-origin:left center}.Syllable:not(:is(.PartOfWord))::after{content:"";margin-right:.3ch}.Letter{display:inline-block}.main-nowPlayingView-lyricsContent{container-type:inline-size;overflow-y:hidden;overflow-x:visible;padding-left:0!important;padding-right:0!important}.main-nowPlayingView-lyricsContent:hover{overflow-y:hidden!important}.main-nowPlayingView-lyricsContent .RootContainer{height:25cqh}.main-nowPlayingView-lyricsContent .Lyrics{margin-top:2.5cqh;margin-bottom:40cqh;padding-left:16px;padding-right:16px;line-height:7.5cqh;--use-offset:1}.lyrics-lyrics-contentContainer{container-type:inline-size}.os-content:has(.lyrics-lyrics-contentWrapper){overflow:hidden}.os-host:has(.lyrics-lyrics-contentWrapper) .os-scrollbar{display:none}@property --FullscreenExtraPadding{syntax:"<length>";initial-value:0px;inherits:true}.BeautifulLyricsPage{overflow:visible}.BeautifulLyricsPage:hover{overflow:hidden!important;margin:0!important}.BeautifulLyricsPage .RootContainer{-webkit-mask-image:linear-gradient(180deg,transparent 0,transparent 16px,var(--spice-sidebar) 24px,var(--spice-sidebar) calc(100% - 64px),transparent calc(100% - 16px),transparent);width:99cqw;height:100cqh;left:.5cqw;position:relative}.BeautifulLyricsPage .Lyrics{margin-top:25cqh;margin-bottom:45cqh;padding-left:17.5cqw;padding-right:15cqw;line-height:2.5cqh;--use-offset:1}.BeautifulLyricsPage.Cinema .RootContainer{top:-8cqh;height:101cqh}.BeautifulLyricsPage.Cinema .Lyrics{padding-left:24cqw;padding-right:17cqw;margin-bottom:55cqh;line-height:2.25cqh}.BeautifulLyricsPage{width:100cqw;height:100cqh;top:0;left:0;position:absolute!important}.BeautifulLyricsPage.Cinema{top:-1cqh;height:101cqh}.BeautifulLyricsPage .NoLyrics{display:flex;position:absolute;left:50cqw;top:50cqh;transform:translate(-50%,-50%);font-size:3cqw;color:#fff;opacity:.5}.Root__main-view-overlay:has(.BeautifulLyricsPage){pointer-events:auto}.os-content:has(.BeautifulLyricsPage){container-type:size}.os-content:has(.BeautifulLyricsPage) .main-view-container__scroll-node-child-spacer{display:flex;z-index:200000;width:12cqh;position:relative;left:44cqw}.os-content:has(.BeautifulLyricsPage) .main-view-container__scroll-node-child-spacer .main-nowPlayingView-lyricsControls{display:flex;gap:8px;margin:auto;padding-top:3cqh;opacity:0;transition:opacity .2s}.os-content:has(.BeautifulLyricsPage) .main-view-container__scroll-node-child-spacer .main-nowPlayingView-lyricsControls button{width:4.25cqh;height:4.25cqh}.os-content:has(.BeautifulLyricsPage) .main-view-container__scroll-node-child-spacer:hover .main-nowPlayingView-lyricsControls{opacity:1}.os-content:has(.BeautifulLyricsPage:hover) .main-nowPlayingView-lyricsControls{opacity:.3}.BeautifulLyricsPage{container-type:size}.BeautifulLyricsPage .main-nowPlayingView-lyricsControls{display:flex;z-index:1000000;width:12cqh;position:relative;gap:8px;justify-content:center;margin:auto;padding-top:3cqh;opacity:0;transition:opacity .2s}.BeautifulLyricsPage .main-nowPlayingView-lyricsControls button{width:4.25cqh;height:4.25cqh}.BeautifulLyricsPage .main-nowPlayingView-lyricsControls:hover{opacity:1!important}.BeautifulLyricsPage:hover .main-nowPlayingView-lyricsControls{opacity:.3}button:has(.LyricsPageIcon){margin-right:6px}.LyricsPageIcon{transform:translateY(-2px)}aside:has(.main-nowPlayingView-section) .main-nowPlayingView-content{background:0 0}aside:has(.main-nowPlayingView-section) .lyrics-background .main-trackInfo-artists{opacity:.75;filter:brightness(1.15)}aside:has(.main-nowPlayingView-section) .main-nowPlayingView-coverArt{opacity:.85;box-shadow:rgba(0,0,0,.2705882353) 0 9px 20px 0}aside:has(.main-nowPlayingView-section) .main-nowPlayingView-section{background-color:var(--background-tinted-base)!important}#lyrics-cinema .os-scrollbar,.Root__main-view:has(.lyrics-background) .os-scrollbar,.os-host:has(.lyrics-background) .os-scrollbar{padding:5px}#lyrics-cinema .os-scrollbar .os-scrollbar-handle,.Root__main-view:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle,.os-host:has(.lyrics-background) .os-scrollbar .os-scrollbar-handle{mix-blend-mode:overlay;background-color:rgba(252,249,249,.117)!important}.lyrics-background{overflow:hidden;position:static}.lyrics-background.main-nowPlayingView-sectionHeaderSpacing.main-nowPlayingView-lyricsGradient{background:0 0}.BeautifulLyricsPage .lyrics-background-container{max-width:35%;max-height:55%;scale:290% 185%;transform-origin:left top;filter:saturate(2.5) brightness(.65)}.lyrics-background.os-padding:has(.main-nowPlayingView-content) .lyrics-background-container{border-radius:8px;filter:saturate(2) brightness(.7)}.lyrics-background-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;filter:saturate(1.5) brightness(.8)}.lyrics-background-back,.lyrics-background-back-center,.lyrics-background-color{position:absolute;width:200%;animation:rotate 35s linear infinite;filter:blur(40px);border-radius:100em}.lyrics-background-color{right:0;top:0;z-index:10;mix-blend-mode:revert}.lyrics-background-back{left:0;bottom:0;z-index:1;animation-direction:reverse}.lyrics-background-back-center{z-index:0;width:300%;right:-50%;top:-20%;animation-direction:reverse}@keyframes rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}:root{--beautiful-lyrics-random-degree:258deg}@keyframes rotate{0%{transform:rotate(var(--beautiful-lyrics-random-degree))}100%{transform:rotate(calc(var(--beautiful-lyrics-random-degree) + 360deg))}}
      `.trim(),document.head.appendChild(t))})();